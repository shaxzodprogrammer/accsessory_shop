(this["webpackJsonpg42-accessory-client"]=this["webpackJsonpg42-accessory-client"]||[]).push([[0],{256:function(t,e,a){},527:function(t,e,a){"use strict";a.r(e);var s=a(2),n=a.n(s),c=a(29),o=a.n(c),r=(a(256),a(257),a(61)),i=a(22),l="LOGIN",u={currentUser:""},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return Object(i.a)(Object(i.a)({},t),{},{currentUser:e.payload});default:return t}},h=Object(r.c)({auth:d}),j=a(244),b=a(21),m=a(26),p=a(158),O=a(245),f=a(16),x=a(17),g=a(20),v=a(19),E=a(48),w=a(18),S=a(25),D=a.n(S),R="/api/",I="Accessory Project JWT Token",y="USER ROLE",C=a(112),N=a(12),k=(a(468),a.p+"static/media/photo_2020-03-09_14-46-18.fe42a5a5.jpg"),M=a.p+"static/media/photo_2020-03-09_14-46-12.166e0ad4.jpg",A=a(0),P=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).login=function(t,e){D.a.post("/api/auth/login",e).then((function(t){localStorage.removeItem(I),N.b.success("Successfully Login","URA"),console.log(t,"RES LOGIN"),localStorage.setItem(I,t.data.type+t.data.token);var e=Object(C.a)(t.data.token).roles[0].roleName;"ROLE_DIRECTOR"===e||"ROLE_MANAGER"===e?s.props.history.push("/mainPage"):"ROLE_SELLER"===e?s.props.history.push("/sellerSale"):s.props.history.push("/")})).catch((function(t){N.b.error("Error Message","Unauthorized")}))},s.state={hasError:!1},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem(I),localStorage.removeItem(y)}},{key:"render",value:function(){var t={backgroundImage:"url("+k+")",backgroundRepeat:"no-repeat, repeat",backgroundPosition:"right center, left top",backgroundSize:"100%, 100%",width:"100%",height:"100vh"},e={backgroundImage:"url("+M+")",backgroundRepeat:"no-repeat, repeat",backgroundPosition:"left center, left top",backgroundSize:"270%, 100%",width:"100%",height:"100vh",padding:"17% 3%"};return Object(A.jsx)("div",{children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-4",style:e,children:Object(A.jsxs)(w.AvForm,{onValidSubmit:this.login,children:[Object(A.jsx)(w.AvField,{name:"username",placeholder:"Login kiriting"}),Object(A.jsx)(w.AvField,{type:"password",name:"password",placeholder:"Parol kiriting"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-info",children:"Kirish"})]})}),Object(A.jsx)("div",{className:"col-md-8",style:t})]})})}}]),a}(s.Component),T=Object(E.b)(null,null)(P),W=a(120),z=function(t){var e=t.component,a=Object(W.a)(t,["component"]);return Object(A.jsx)(m.b,Object(i.a)(Object(i.a)({},a),{},{render:function(t){return Object(A.jsx)(e,Object(i.a)({},t))}}))};Object(E.b)((function(t){return{currentUser:t.auth.currentUser}}),(function(t){return{}}))((function(t){var e=t.currentUser,a=(t.component,Object(W.a)(t,["currentUser","component"]));return console.log(e,"currentUser"),e?Object(A.jsx)(m.b,Object(i.a)(Object(i.a)({},a),{},{render:function(t){Object(i.a)({},t)}})):Object(A.jsx)(m.a,{to:{pathname:"/"}})}));var B=function(t){var e=t.role,a=t.history,s=t.tab,n=function(){localStorage.removeItem(I),localStorage.removeItem(y),a.push("/")};return Object(A.jsx)("div",{className:"navbar nav",children:"ROLE_DIRECTOR"===e||"ROLE_MANAGER"===e?Object(A.jsxs)("ul",{className:"list-unstyled",children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/mainPage",children:Object(A.jsx)("button",{className:"1"===s?"btn navButton":"btn navBarButton",children:"Asosiy sahifa"})})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/report",children:Object(A.jsx)("button",{className:"2"===s?"btn navButton":"btn navBarButton",children:"Hisobotlar"})})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/warehouse",children:Object(A.jsx)("button",{className:"3"===s?"btn navButton":"btn navBarButton",children:"Ombor"})})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/sellerReject",children:Object(A.jsx)("button",{className:"4"===s?"btn navButton":"btn navBarButton",children:"Qaytgan Mollar"})})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/sellerDefect",children:Object(A.jsx)("button",{className:"5"===s?"btn navButton":"btn navBarButton",children:"Defect"})})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/catalog",children:Object(A.jsx)("button",{className:"6"===s?"btn navButton":"btn navBarButton",children:"Catalog"})})}),Object(A.jsx)("li",{className:"nav-item",onClick:n,children:Object(A.jsx)(b.b,{to:"/",children:Object(A.jsx)("button",{className:"7"===s?"btn navButton":"btn navBarButton",children:"Chiqish"})})})]}):"ROLE_SELLER"===e?Object(A.jsxs)("ul",{className:"list-unstyled",children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/sellerSale",children:Object(A.jsx)("button",{className:"1"===s?"btn navButton":"btn navBarButton",children:"Sotuv"})})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/report",children:Object(A.jsx)("button",{className:"2"===s?"btn navButton":"btn navBarButton",children:"Hisobot"})})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/warehouse",children:Object(A.jsx)("button",{className:"3"===s?"btn navButton":"btn navBarButton",children:"Ombor"})})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/sellerReject",children:Object(A.jsx)("button",{className:"4"===s?"btn navButton":"btn navBarButton",children:"Qaytgan Mollar"})})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(b.b,{to:"/sellerDefect",children:Object(A.jsx)("button",{className:"5"===s?"btn navButton":"btn navBarButton",children:"Defect"})})}),Object(A.jsx)("li",{className:"nav-item",onClick:n,children:Object(A.jsx)(b.b,{to:"/",children:Object(A.jsx)("button",{className:"6"===s?"btn navButton":"btn navBarButton",children:"Chiqish"})})})]}):Object(A.jsx)(m.a,{to:{pathname:"/"}})})},L=function(){return localStorage.getItem(I)?Object(C.a)(localStorage.getItem(I)).roles[0].roleName:""},_={headers:{Authorization:localStorage.getItem(I),"Access-Control-Allow-Origin":"*"}},V={getAllUsersByPageable:"user/all",getAllUsersRoleSeller:"user/all_seller",saveOrEditUser:"user/saveOrEdit",changeUserActive:"user/changeActive/",deleteUser:"user/remove/",getAllShopsByPageable:"shop/all",saveOrEditShop:"shop/saveOrEdit",changeShopActive:"shop/changeActive/",deleteShop:"shop/remove/",getAllWarehousesByPageable:"warehouse/all",saveOrEditWarehouse:"warehouse/saveOrEdit",changeWarehouseActive:"warehouse/changeActive/",deleteWarehouse:"warehouse/remove/",getAllCategorysByPageable:"category/all",saveOrEditCategory:"category/saveOrEdit",deleteCategory:"category/remove/",getAllProductByPageable:"product/all",addProduct:"product/addProduct",editProduct:"product/editProduct",changeProductActive:"product/changeActive/",deleteProduct:"product/remove/",warehouses:"warehouse/allAll",searchProduct:"product/search",saveOrEditTransfer:"transfer/saveOrEdit",warehouseIncomes:"transfer/all?",acceptWarehouseIncome:"transfer/accept",removeWarehouseIncome:"transfer/remove",productCountByWarehouseId:"transfer/countProductByWarehouse?prodId=",saveOrEditTrade:"trade/saveOrEdit",getAllByFalseReport:"trade/getAllByDraftReport",deleteTrade:"trade/remove/",closeDay:"trade/closeDay/",getAllReportByStatus:"report/getAllReportByStatus",acceptReport:"report/accept/",saveReject:"reject/saveOrEdit",allReject:"reject/all?",removeReject:"reject/remove/",acceptReject:"reject/accept/",saveOrEditDefect:"defect/saveOrEdit",allDefects:"defect/all?",acceptDefect:"defect/accept/",removeDefect:"defect/remove/",productCount:"dashboard/productCount?",totalCashFlow:"dashboard/totalCashFlow"},q=(s.Component,a(38)),F=a(10),U=a.n(F),Q=a(14),X=function(t,e,a){var s={Authorization:localStorage.getItem(I),"Access-Control-Allow-Origin":"*"};return D()({url:R+e,method:t,data:a,headers:s})},G=function(){function t(){Object(f.a)(this,t)}return Object(x.a)(t,null,[{key:"allUsers",value:function(){var t=Object(Q.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.next=3,X("get",V.getAllUsersByPageable).then((function(t){e=t.data,console.log(e,"RES USERS")})).catch((function(t){console.log(t,"errorr")}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"allUsersByRoleSeller",value:function(){var t=Object(Q.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,X("get",V.getAllUsersRoleSeller).then((function(t){e=t.data})).catch((function(t){}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"saveOrEditUser",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X("post",V.saveOrEditUser,e).then((function(t){console.log(t,"SAVE Or EDIT RES"),D.a.get(R+V.getAllUsersByPageable,_),a=t.data,N.b.success(t.data.message)})).catch((function(t){N.b.error("Error")}));case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeUser",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("get",V.deleteUser+e).then((function(t){console.log(t,"RES REMOVE USER"),N.b.success("Deleted"),a=!0})).catch((function(t){N.b.error("Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"changeUserActive",value:function(){var t=Object(Q.a)(U.a.mark((function t(e,a){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="",t.next=3,X("get",V.changeUserActive+e).then((function(t){s=t}));case 3:return t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"allShops",value:function(){var t=Object(Q.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.next=3,X("get",V.getAllShopsByPageable).then((function(t){console.log(t,"shops"),e=t.data})).catch((function(t){}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"saveOrEditShop",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X("post",V.saveOrEditShop,e).then((function(t){console.log(t,"SAVE Or EDIT RES"),D.a.get(R+V.getAllShopsByPageable,_),a=t.data,N.b.success(t.data.message)})).catch((function(t){N.b.error("Error")}));case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeShop",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("delete",V.deleteShop+e).then((function(t){console.log(t,"RES REMOVE USER"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"changeShopActive",value:function(){var t=Object(Q.a)(U.a.mark((function t(e,a){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="",t.next=3,X("get",V.changeShopActive+e).then((function(t){s=t}));case 3:return t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"allWarehouses",value:function(){var t=Object(Q.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.next=3,X("get",V.getAllWarehousesByPageable).then((function(t){e=t.data})).catch((function(t){}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"saveOrEditWarehouse",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,"aaaaaaaaaa"),t.next=3,X("post",V.saveOrEditWarehouse,e).then((function(t){console.log(t,"SAVE Or EDIT RES"),D.a.get(R+V.getAllWarehousesByPageable,_),a=t.data,N.b.success(t.data.message)})).catch((function(t){N.b.error("Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeWarehouse",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("delete",V.deleteWarehouse+e).then((function(t){console.log(t,"RES REMOVE USER"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"changeWarehouseActive",value:function(){var t=Object(Q.a)(U.a.mark((function t(e,a){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="",t.next=3,X("get",V.changeWarehouseActive+e).then((function(t){s=t}));case 3:return t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"getWarehouseIncomeByApprove",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X("get",V.warehouseIncomes+"page="+e.page+"&size="+e.size+"&accepted="+e.accepted+"&income="+e.income+"&fromWarehouseId="+e.fromWarehouseId+"&toWarehouseId="+e.toWarehouseId+"&startDate="+e.startDate+"&endDate="+e.endDate).then((function(t){a=t.data}));case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"acceptWarehouseIncome",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X("get",V.acceptWarehouseIncome+"/"+e).then((function(t){a=t.data}));case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeWarehouseIncome",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X("get",V.removeWarehouseIncome+"/"+e).then((function(t){a=t.data}));case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"allCategories",value:function(){var t=Object(Q.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,X("get",V.getAllCategorysByPageable).then((function(t){e=t.data})).catch((function(t){}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"saveOrEditCategory",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,"category"),t.next=3,X("post",V.saveOrEditCategory,e).then((function(t){console.log(t,"SAVE Or EDIT RES"),D.a.get(R+V.getAllCategorysByPageable,_),a=t.data,N.b.success(t.data.message)})).catch((function(t){N.b.error("Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeCategory",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("get",V.deleteCategory+e).then((function(t){console.log(t,"RES REMOVE CATEGORY"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"allProduct",value:function(){var t=Object(Q.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.next=3,X("get",V.getAllProductByPageable).then((function(t){e=t.data})).catch((function(t){}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"saveOrEditProduct",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.id){t.next=5;break}return t.next=3,X("post",V.editProduct,e).then((function(t){console.log(t,"EDIT RES"),D.a.get(R+V.getAllProductByPageable,_),a=t.data,N.b.success(t.data.message)})).catch((function(t){a=t,N.b.error("Error")}));case 3:t.next=7;break;case 5:return t.next=7,X("post",V.addProduct,e).then((function(t){console.log(t,"EDIT RES"),D.a.get(R+V.getAllProductByPageable,_),a=t.data,N.b.success(t.data.message)})).catch((function(t){N.b.error("Error"),a=t}));case 7:return t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeProduct",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("get",V.deleteProduct+e).then((function(t){console.log(t,"RES REMOVE PRODUCT"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"changeProductActive",value:function(){var t=Object(Q.a)(U.a.mark((function t(e,a){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="",t.next=3,X("get",V.changeProductActive+e).then((function(t){s=t}));case 3:return t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"allWarehouseWithoutPageable",value:function(){var t=Object(Q.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,X("get",V.warehouses).then((function(t){e=t.data.object})).catch((function(t){}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"searchProduct",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],t.next=3,X("get",V.searchProduct+"/"+e).then((function(t){a=t.data.object})).catch((function(t){}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"saveOrEditTransfer",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X("post",V.saveOrEditTransfer,e).then((function(t){})).catch((function(t){}));case 2:return t.abrupt("return",null);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getProductCountByWarehouse",value:function(){var t=Object(Q.a)(U.a.mark((function t(e,a){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=0,t.next=3,X("get",V.productCountByWarehouseId+e+"&warehouseId="+a).then((function(t){s=t.data.object})).catch((function(t){}));case 3:return t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"saveOrEditTrade",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X("post",V.saveOrEditTrade,e).then((function(t){a=t.data,N.b.success(t.data.message)})).catch((function(t){N.b.error("Error")}));case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTradesByAccepted",value:function(){var t=Object(Q.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,X("get",V.getAllByFalseReport).then((function(t){e=t.data.object})).catch((function(t){}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"removeTrade",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("delete",V.deleteTrade+e).then((function(t){console.log(t,"RES REMOVE PRODUCT"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"closeDay",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("get",V.closeDay+e).then((function(t){console.log(t,"RES REMOVE PRODUCT"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAllReportByStatus",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",t.next=3,X("get",V.getAllReportByStatus+"?page="+e.page+"&size="+e.size+"&status="+e.status+"&startDate="+e.startDate+"&endDate="+e.endDate+"&shopId="+e.shopId).then((function(t){a=t.data})).catch((function(t){}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"acceptReport",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("put",V.acceptReport+e).then((function(t){console.log(t,"RES REMOVE PRODUCT"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"saveReject",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X("post",V.saveReject,e).then((function(t){a=t.data,N.b.success(t.data.message)})).catch((function(t){N.b.error("Error")}));case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"allReject",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",t.next=3,X("get",V.allReject+"page="+e.page+"&size="+e.size+"&accepted="+e.accepted+"&warehouseId="+e.warehouseId).then((function(t){a=t.data})).catch((function(t){}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeReject",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("delete",V.removeReject+e).then((function(t){console.log(t,"RES REMOVE PRODUCT"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"acceptReject",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("get",V.acceptReject+e).then((function(t){console.log(t,"RES REMOVE PRODUCT"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"saveOrEditDefect",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X("post",V.saveOrEditDefect,e).then((function(t){a=t.data,N.b.success(t.data.message)})).catch((function(t){N.b.error("Error")}));case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"allDefects",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a="",!e.startDate||!e.endDate){t.next=6;break}return t.next=4,X("get",V.allDefects+"page="+e.page+"&size="+e.size+"&accepted="+e.accepted+"&warehouseId="+e.warehouseId+"&startDate="+e.startDate+"&endDate="+e.endDate).then((function(t){a=t.data})).catch((function(t){}));case 4:t.next=8;break;case 6:return t.next=8,X("get",V.allDefects+"page="+e.page+"&size="+e.size+"&accepted="+e.accepted+"&warehouseId="+e.warehouseId).then((function(t){a=t.data})).catch((function(t){}));case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"acceptDefect",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("get",V.acceptDefect+e).then((function(t){console.log(t,"RES REMOVE PRODUCT"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeDefect",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,X("delete",V.removeDefect+e).then((function(t){console.log(t,"RES REMOVE PRODUCT"),N.b.success(t.data.message),a=!0})).catch((function(t){N.b.error(t.data?t.data:"Error")}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"productCount",value:function(){var t=Object(Q.a)(U.a.mark((function t(e){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",t.next=3,X("get",V.productCount+"page="+e.page+"&size="+e.size+"&productId="+e.productId).then((function(t){a=t.data})).catch((function(t){}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"totalCashFlow",value:function(){var t=Object(Q.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="",t.next=3,X("get",V.totalCashFlow).then((function(t){e=t.data})).catch((function(t){}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}(),K=a(215),H=a(242),Y=a(213),J=a(214),Z=a(35),$=a.n(Z),tt=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={products:[],item:"",productCount:[],page:0,size:10,productId:"",totalElements:0,totalCashFlow:"",showCashFlowModal:!1},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.productCount({page:this.state.page,size:this.state.size,productId:this.state.productId}).then((function(e){console.log(e,"_______RREESS______"),t.setState({productCount:e.object,totalElements:e.totalElements})})),G.totalCashFlow().then((function(e){console.log(e,"TOTAL_CASH_FLOW"),t.setState({totalCashFlow:e})}))}},{key:"render",value:function(){var t=this,e=this.props.history,a=function(){t.setState({showCashFlowModal:!t.state.showCashFlowModal})};return L()?Object(A.jsxs)("div",{className:"row row-style",children:[Object(A.jsx)("div",{className:"col-md-2 col-2-style",children:Object(A.jsx)(B,{role:L(),history:e,tab:"1"})}),Object(A.jsxs)("div",{className:"col-md-10 col-10-style",children:[Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-1",children:Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){G.productCount({page:0,size:10,productId:""}).then((function(e){console.log(e,"_______RREESS______"),t.setState({productCount:e.object,totalElements:e.totalElements,page:0,size:10,productId:"",item:""})}))},children:"Barchasi"})}),Object(A.jsx)("div",{className:"col-md-4",children:Object(A.jsx)(q.a,{name:"prodId",cacheOptions:!0,loadOptions:function(e,a){setTimeout((function(){a(function(e){if(e)return t.state.products.filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())}))}(e))}),100)},defaultOptions:!0,value:this.state.item?this.state.item:"",onInputChange:function(e){G.searchProduct(e).then((function(e){t.setState({products:e})}))},onChange:function(e){return function(e){G.productCount({page:t.state.page,size:t.state.size,productId:e.id}).then((function(a){console.log(a,"_______RREESS______"),t.setState({productCount:a.object,totalElements:a.totalElements,item:e,productId:e.id})}))}(e)}})}),Object(A.jsx)("div",{className:"col-md-3",children:Object(A.jsx)($.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:function(e){G.productCount({page:e-1,size:t.state.size,productId:t.state.productId}).then((function(a){console.log(a,"_______RREESS______"),t.setState({productCount:a.object,totalElements:a.totalElements,page:e-1})}))},itemClass:"page-item",linkClass:"page-link"})}),Object(A.jsx)("div",{className:"col-md-2",children:"ROLE_DIRECTOR"===L()?Object(A.jsx)("button",{className:"btn btn-info",onClick:function(){var t=document.createElement("a");t.href="/api/excel/productCountByWarehouse",console.log(new Date,"DATE"),t.setAttribute("download","Product Count by "+new Date+".xlsx"),document.body.appendChild(t),t.click()},children:"Download"}):""}),Object(A.jsx)("div",{className:"col-md-2",children:"ROLE_DIRECTOR"===L()?Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){return a()},children:"Tovar oborot"}):""})]}),Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Mahsulot Nomi"}),Object(A.jsx)("th",{children:"Mahsulot Soni"})]}),this.state.productCount&&this.state.productCount.map((function(e,a){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:a+1+t.state.page*t.state.size}),Object(A.jsx)("td",{children:e.productName}),Object(A.jsx)("td",{children:e.warehouseProductCounts&&e.warehouseProductCounts.map((function(t,e){return Object(A.jsxs)("p",{children:[e+1," ",t.name," : ",t.count]})}))})]})}))]}),Object(A.jsxs)(H.a,{isOpen:this.state.showCashFlowModal,toggle:a,children:[Object(A.jsxs)(Y.a,{children:[Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Ombor nomi"}),Object(A.jsx)("th",{children:"Summa"})]}),this.state.totalCashFlow?this.state.totalCashFlow.warehouseCashFlowDtos&&this.state.totalCashFlow.warehouseCashFlowDtos.map((function(t,e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e+1}),Object(A.jsx)("td",{children:t.warehouseDto.name}),Object(A.jsx)("td",{children:t.totalSum})]})})):""]}),Object(A.jsxs)("h3",{children:["Jami : ",this.state.totalCashFlow?this.state.totalCashFlow.totalSum:0," UZS"]})]}),Object(A.jsx)(J.a,{children:Object(A.jsx)("button",{className:"btn btn-warning",onClick:a,children:"Yopish"})})]})]})]})]}):Object(A.jsx)(m.a,{to:"/"})}}]),a}(s.Component),et=Object(E.b)((function(t){return{currentUser:t.auth.currentUser}}),null)(tt),at=a(212),st=a(30),nt=a.n(st),ct=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={page:0,size:10,status:"NEW",reports:[],totalElements:0,item:"",showPwaModal:!1,showAcceptModal:!1,reportId:"",shopId:0,startDate:"",endDate:"",shopList:[]},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allShops().then((function(e){console.log(e,"ALL_SHOPS"),t.setState({shopList:e.object})})),G.getAllReportByStatus({page:this.state.page,size:this.state.size,status:this.state.status,startDate:"",endDate:"",shopId:this.state.shopId}).then((function(e){console.log(e,"REPORTS"),t.setState({reports:e.object,totalElements:e.totalElements})}))}},{key:"render",value:function(){var t=this,e=this.props.history,a=function(e){console.log(e,"ITEMMMMMM"),t.setState({item:e,showPwaModal:!t.state.showPwaModal})},s=function(e){t.setState({showAcceptModal:!t.state.showAcceptModal,reportId:e})};return L()?Object(A.jsxs)("div",{className:"row row-style",children:[Object(A.jsx)("div",{className:"col-md-2 col-2-style",children:Object(A.jsx)(B,{role:L(),history:e,tab:"2"})}),Object(A.jsxs)("div",{className:"col-md-10 col-10-style",children:[Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-3",children:Object(A.jsxs)("select",{name:"status",id:"status",onChange:function(e){var a=e.target.value;G.getAllReportByStatus({page:t.state.page,size:t.state.size,status:a,startDate:t.state.startDate,endDate:t.state.endDate,shopId:t.state.shopId}).then((function(e){console.log(e,"REPORTS"),t.setState({reports:e.object,totalElements:e.totalElements,status:a})}))},children:[Object(A.jsx)("option",{value:"NEW",children:"Tasdiqlanmagan"}),Object(A.jsx)("option",{value:"ACCEPTED",children:"Tasdiqlangan"})]})}),Object(A.jsxs)("div",{className:"col-md-3",children:[Object(A.jsx)(nt.a,{selected:this.state.startDate,onChange:function(e){return a=e,void(t.state.endDate?G.getAllReportByStatus({page:t.state.page,size:t.state.size,status:t.state.status,startDate:a,endDate:t.state.endDate,shopId:t.state.shopId}).then((function(e){console.log(e,"REPORTS"),t.setState({reports:e.object,totalElements:e.totalElements,startDate:a})})):t.setState({startDate:a}));var a},selectsStart:!0,startDate:this.state.startDate,endDate:this.state.endDate}),Object(A.jsx)(nt.a,{selected:this.state.endDate,onChange:function(e){return a=e,void G.getAllReportByStatus({page:t.state.page,size:t.state.size,status:t.state.status,startDate:t.state.startDate,endDate:a,shopId:t.state.shopId}).then((function(e){console.log(e,"REPORTS"),t.setState({reports:e.object,totalElements:e.totalElements,endDate:a})}));var a},selectsEnd:!0,startDate:this.state.startDate,endDate:this.state.endDate,minDate:this.state.startDate})]}),Object(A.jsx)("div",{className:"col-md-3",children:"ROLE_DIRECTOR"===L()||"ROLE_MANAGER"===L()?Object(A.jsxs)("select",{name:"status",id:"status",onChange:function(e){var a=e.target.value;console.log(a,"SHOP ID"),G.getAllReportByStatus({page:t.state.page,size:t.state.size,status:t.state.status,startDate:t.state.startDate,endDate:t.state.endDate,shopId:a}).then((function(e){console.log(e,"REPORTS"),t.setState({reports:e.object,totalElements:e.totalElements,shopId:a})}))},children:[Object(A.jsx)("option",{value:"0",children:"Barchasi"}),this.state.shopList&&this.state.shopList.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]}):""}),Object(A.jsx)("div",{className:"col-md-3",children:this.state.startDate&&this.state.endDate?"":Object(A.jsx)($.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:function(e){G.getAllReportByStatus({page:e-1,size:t.state.size,status:t.state.status,startDate:t.state.startDate,endDate:t.state.endDate,shopId:t.state.shopId}).then((function(a){console.log(a,"REPORTS"),t.setState({reports:a.object,totalElements:a.totalElements,page:e-1})}))},itemClass:"page-item",linkClass:"page-link"})})]}),Object(A.jsx)("div",{className:"mt-5",children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Magazin"}),Object(A.jsx)("th",{children:"Sana"}),Object(A.jsx)("th",{children:"Summa"}),Object(A.jsx)("th",{children:"Kim qabul qilgan"}),Object(A.jsx)("th",{children:"Tasdiqlangan"}),Object(A.jsx)("th",{children:"Maxsulotlar"}),"ROLE_MANAGER"===L()||"ROLE_DIRECTOR"===L()?Object(A.jsx)("th",{children:"Action"}):""]}),this.state.reports&&this.state.reports.map((function(t,e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e+1}),Object(A.jsx)("td",{children:t.shopDto.name}),Object(A.jsx)("td",{children:t.createdAt.substr(0,10)+"  |  "+t.createdAt.substr(11,5)}),Object(A.jsx)("td",{children:t.sum}),Object(A.jsx)("td",{children:t.managerDto?t.managerDto.firstName+" "+t.managerDto.lastName:""}),Object(A.jsx)("td",{children:Object(A.jsx)("input",{type:"checkbox",checked:"ACCEPTED"===t.status})}),Object(A.jsx)("td",{children:Object(A.jsx)("button",{className:"btn btn-info",onClick:function(){return a(t)},children:"..."})}),("ROLE_MANAGER"===L()||"ROLE_DIRECTOR"===L())&&"NEW"===t.status?Object(A.jsx)("td",{children:Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){return s(t.id)},children:"Tasdiqlash"})}):""]})}))]})}),Object(A.jsxs)(H.a,{isOpen:this.state.showPwaModal,toggle:function(){return a("")},children:[Object(A.jsx)(Y.a,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Maxsulot Nomi"}),Object(A.jsx)("th",{children:"Soni"}),Object(A.jsx)("th",{children:"Real Sotilgan narxi"})]}),this.state.item?this.state.item.pwa&&this.state.item.pwa.map((function(t,e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e+1}),Object(A.jsx)("td",{children:t.productDto.name}),Object(A.jsx)("td",{children:t.amount}),Object(A.jsx)("td",{children:t.realSoldPrice})]})})):""]})}),Object(A.jsx)(J.a,{children:Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){return a("")},children:"Yopish"})})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showAcceptModal,toggle:function(){return s("")},children:[Object(A.jsx)(at.a,{children:"Tasdiqlaysizmi?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return s("")},children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){G.acceptReport(t.state.reportId).then((function(e){G.getAllReportByStatus({page:t.state.page,size:t.state.size,status:t.state.status}).then((function(e){console.log(e,"REPORTS"),t.setState({reports:e.object,totalElements:e.totalElements,showAcceptModal:!t.state.showAcceptModal,reportId:""})}))}))},children:"Ha"})]})]})]})]}):Object(A.jsx)(m.a,{to:"/"})}}]),a}(s.Component),ot=a(196),rt=a(197),it=a(198),lt=a(216),ut=a(217),dt=a(194),ht=a(195);var jt=function(t){var e=t.state,a=t.saveOrEdit,s=t.openModal,n=t.closeModal;switch(t.saveOrEditShop,t.saveOrEditWarehouse,console.log(e.currentItem,"aaaaaaaaaaaaaaaaaaaaaaaaaaaa"),e.activeTab){case"1":return Object(A.jsxs)(H.a,{isOpen:e.showModal,toggle:function(){return n()},children:[Object(A.jsx)(at.a,{children:e.currentItem?"Tahrirlash":"Yangi user qoshish"}),Object(A.jsxs)(w.AvForm,{onValidSubmit:a,children:[Object(A.jsxs)(Y.a,{children:[Object(A.jsx)(w.AvField,{label:"Ism kiriting :",name:"firstName",placeholder:"Ism kiriting",defaultValue:e.currentItem?e.currentItem.firstName:""}),Object(A.jsx)(w.AvField,{label:"Familiya kiriting :",name:"lastName",placeholder:"Familiya kiriting",defaultValue:e.currentItem?e.currentItem.lastName:""}),Object(A.jsx)(w.AvField,{label:"Telefon raqam kiriting :",name:"phoneNumber",placeholder:"Telefon raqamini kiriting",defaultValue:e.currentItem?e.currentItem.phoneNumber:""}),Object(A.jsx)(w.AvField,{label:"Login kiriting :",name:"username",placeholder:"Login kiriting",defaultValue:e.currentItem?e.currentItem.username:""}),Object(A.jsx)(w.AvField,{label:"Parol kiriting :",type:"text",name:"password",placeholder:"Parol kiriting",defaultValue:""}),e.currentItem&&"ROLE_DIRECTOR"===e.currentItem.roleName?"":Object(A.jsxs)(w.AvField,{label:"Mansab tanlang:",type:"select",name:"roleName",placeholder:"Mansab tanlang : ",defaultValue:e.currentItem?e.currentItem.roleName:"",children:[Object(A.jsx)("option",{value:"",disabled:!0,children:"Lavozim tanlang"}),Object(A.jsx)("option",{value:"ROLE_SELLER",children:"Sotuvchi"}),Object(A.jsx)("option",{value:"ROLE_MANAGER",children:"Manager"})]})]}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{type:"button",onClick:function(){return n()},className:"btn btn-danger",children:"Bekor qilish"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Saqlash"})]})]})]});case"2":return Object(A.jsxs)(H.a,{isOpen:e.showModal,toggle:function(){return s()},children:[Object(A.jsx)(at.a,{children:e.currentItem?"Tahrirlash":"Yangi magazin qoshish"}),Object(A.jsxs)(w.AvForm,{onValidSubmit:a,children:[Object(A.jsxs)(Y.a,{children:[Object(A.jsx)(w.AvField,{name:"name",placeholder:"Nomi",defaultValue:e.currentItem?e.currentItem.name:""}),Object(A.jsx)(w.AvField,{name:"address",placeholder:"Address",defaultValue:e.currentItem?e.currentItem.address:""}),Object(A.jsxs)(w.AvField,{type:"select",name:"seller",placeholder:"Sotuvchini tanlang",defaultValue:e.currentItem&&e.currentItem.seller?e.currentItem.seller.id:"",children:[Object(A.jsx)("option",{value:"",disabled:!0,children:"Sotuvchi tanlang"}),e.sellers?e.sellers.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.firstName+" "+t.lastName},t.id)})):""]})]}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{type:"button",onClick:function(){return s()},className:"btn btn-danger",children:"Bekor qilish"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Saqlash"})]})]})]});case"3":return Object(A.jsxs)(H.a,{isOpen:e.showModal,toggle:function(){return s()},children:[Object(A.jsx)(at.a,{children:e.currentItem?"Tahrirlash":"Yangi ombor qoshish"}),Object(A.jsxs)(w.AvForm,{onValidSubmit:a,children:[Object(A.jsxs)(Y.a,{children:[Object(A.jsx)(w.AvField,{name:"name",placeholder:"Nomi",defaultValue:e.currentItem?e.currentItem.name:""}),Object(A.jsx)(w.AvField,{name:"address",placeholder:"Address",defaultValue:e.currentItem?e.currentItem.address:""})]}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{type:"button",onClick:function(){return s()},className:"btn btn-danger",children:"Bekor qilish"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Saqlash"})]})]})]});case"4":return Object(A.jsxs)(H.a,{isOpen:e.showModal,toggle:function(){return s()},children:[Object(A.jsx)(at.a,{children:e.currentItem?"Tahrirlash":"Yangi kategoriya qoshish"}),Object(A.jsxs)(w.AvForm,{onValidSubmit:a,children:[Object(A.jsxs)(Y.a,{children:[Object(A.jsx)(w.AvField,{name:"name",placeholder:"Nomi",defaultValue:e.currentItem?e.currentItem.name:""}),Object(A.jsxs)(w.AvField,{type:"select",name:"parentCategoryDto",placeholder:"Sub kategoriya tanlang",defaultValue:e.currentItem&&e.currentItem.parentCategoryDto?e.currentItem.parentCategoryDto.id:"",children:[Object(A.jsx)("option",{value:"",disabled:!0,children:"Sub kategoriya tanlang"}),e.categories?e.categories.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name},t.id)})):""]})]}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{type:"button",onClick:function(){return s()},className:"btn btn-danger",children:"Bekor qilish"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Saqlash"})]})]})]});case"5":return Object(A.jsxs)(H.a,{isOpen:e.showModal,toggle:function(){return s()},children:[Object(A.jsx)(at.a,{children:e.currentItem?"Tahrirlash":"Yangi produkt qoshish"}),Object(A.jsxs)(w.AvForm,{onValidSubmit:a,children:[Object(A.jsxs)(Y.a,{children:[Object(A.jsx)(w.AvField,{name:"name",placeholder:"Nomi",defaultValue:e.currentItem?e.currentItem.name:""}),Object(A.jsx)(w.AvField,{type:"number",name:"incomePrice",placeholder:"income price",defaultValue:e.currentItem?e.currentItem.incomePrice:""}),Object(A.jsx)(w.AvField,{type:"number",name:"salePrice",placeholder:"sale price",defaultValue:e.currentItem?e.currentItem.salePrice:""}),Object(A.jsx)(w.AvField,{type:"number",name:"norma",placeholder:"norma",defaultValue:e.currentItem?e.currentItem.norma:""}),Object(A.jsxs)(w.AvField,{type:"select",name:"categoryDto",placeholder:"Kategoriyani tanlang",defaultValue:e.currentItem&&e.currentItem.categoryDto?e.currentItem.categoryDto.id:"",children:[Object(A.jsx)("option",{value:"",disabled:!0,children:"Kategoriyani tanlang"}),e.categories?e.categories.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name},t.id)})):""]})]}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{type:"button",onClick:function(){return s()},className:"btn btn-danger",children:"Bekor qilish"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Saqlash"})]})]})]});default:return""}};var bt=function(t){return Object(A.jsxs)(H.a,{isOpen:t.showRemoveModal,toggle:t.closeRemoveModal,children:[Object(A.jsx)(at.a,{children:"O'chirishni istaysizmi ?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{type:"button",onClick:t.closeRemoveModal,className:"btn btn-danger",children:"Bekor qilish"}),Object(A.jsx)("button",{type:"button",onClick:t.remove,className:"btn btn-success",children:"Ha"})]})]})};var mt=function(t){return Object(A.jsx)(dt.a,{children:Object(A.jsxs)(ht.a,{sm:"12",children:[Object(A.jsx)("h4",{children:t.title}),"products"===t.dataType&&"ROLE_MANAGER"===L()?"":Object(A.jsxs)("button",{type:"button",className:"btn btn-success",onClick:function(){return t.openModal("")},children:[Object(A.jsx)(jt,{state:t.state,saveOrEdit:t.saveOrEdit,openModal:t.openModal,closeModal:t.closeModal}),"Add"]}),Object(A.jsxs)(K.a,{striped:!0,children:[Object(A.jsx)("thead",{children:Object(A.jsx)("tr",{children:t.names.map((function(t){return Object(A.jsx)("th",{children:t})}))})}),Object(A.jsx)("tbody",{children:t.datas&&t.datas.map((function(e,a){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:a+1+10*t.currentPage}),"users"===t.dataType?[Object(A.jsx)("td",{children:e.firstName+" "+e.lastName}),Object(A.jsx)("td",{children:e.phoneNumber}),Object(A.jsx)("td",{children:e.username})]:"shops"===t.dataType?[Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{children:e.address}),Object(A.jsx)("td",{children:e.seller?e.seller.firstName+" "+e.seller.lastName:""})]:"warehouses"===t.dataType?[Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{children:e.address}),Object(A.jsx)("td",{children:e.shopDto?e.shopDto.name:""})]:"categories"===t.dataType?[Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{children:e.parentCategoryDto?e.parentCategoryDto.name:""})]:"products"===t.dataType?"ROLE_DIRECTOR"===L()?[Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{children:e.incomePrice}),Object(A.jsx)("td",{children:e.salePrice}),Object(A.jsx)("td",{children:e.norma}),Object(A.jsx)("td",{children:e.categoryDto?e.categoryDto.name:""})]:[Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{children:e.salePrice}),Object(A.jsx)("td",{children:e.norma}),Object(A.jsx)("td",{children:e.categoryDto?e.categoryDto.name:""})]:"",Object(A.jsx)("td",{children:Object(A.jsx)("div",{className:"custom-control custom-switch",children:"users"===t.dataType?"ROLE_DIRECTOR"===e.roleName?"":[Object(A.jsx)("input",{type:"checkbox",className:"custom-control-input",id:e.name+e.id,checked:e.enable,onClick:function(){return t.changeActive(e.id,e.enable)}}),Object(A.jsx)("label",{className:"custom-control-label",htmlFor:e.name+e.id})]:"warehouses"===t.dataType?[e.shopDto?"":[Object(A.jsx)("input",{type:"checkbox",className:"custom-control-input",id:e.name+e.id,checked:e.active,onClick:function(){return t.changeWarehouseActive(e.id,e.active)}}),Object(A.jsx)("label",{className:"custom-control-label",htmlFor:e.name+e.id})]]:"categories"===t.dataType?"":[Object(A.jsx)("input",{type:"checkbox",className:"custom-control-input",id:e.name+e.id,checked:e.active,onClick:function(){return t.changeActive(e.id,e.active)}}),Object(A.jsx)("label",{className:"custom-control-label",htmlFor:e.name+e.id})]})}),"ROLE_DIRECTOR"===L()?Object(A.jsxs)("td",{children:[Object(A.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){return t.openModal(e)},children:"Edit"}),"ROLE_DIRECTOR"===e.roleName?"":Object(A.jsxs)("button",{type:"button",className:"btn btn-danger",onClick:function(){return t.openRemoveModal(e)},children:[Object(A.jsx)(bt,{closeRemoveModal:t.closeRemoveModal,showRemoveModal:t.state.showRemoveModal,remove:t.remove}),"Delete"]})]}):""]})}))})]})]})})},pt=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={activeTab:"1",showModal:!1,showRemoveModal:!1,currentItem:"",users:[],totalElements:0,currentPage:0},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allUsers().then((function(e){console.log(e,"RES USER PANE"),e&&t.setState({users:e.object,totalElements:e.totalElements,currentPage:e.currentPage,currentItem:""})}))}},{key:"render",value:function(){var t=this,e=function(){t.setState({currentItem:"",showModal:!1})},a=function(){t.setState({showRemoveModal:!1,currentItem:""})};return Object(A.jsx)(ut.a,{tabId:this.props.tabId,children:Object(A.jsx)(mt,{state:this.state,title:"Hodimlar Ro'yxati",currentPage:0,set:function(e){t.setState(e)},names:["T/R","FIO","Phone Number","Login","Active","Actions"],dataType:"users",datas:this.state.users,changeActive:function(e,a){G.changeUserActive(e,a).then((function(s){a?N.b.warning("Blocked"):N.b.success("Activate");for(var n=t.state.users,c=0;c<n.length;c++)n[c].id===e&&(n[c].enable=!n[c].enable);t.setState({users:n})}))},openModal:function(e){t.setState({currentItem:e,showModal:!t.state.showModal})},closeModal:e,openRemoveModal:function(e){t.setState({showRemoveModal:!0,currentItem:e})},closeRemoveModal:a,saveOrEdit:function(a,s){t.state.currentItem&&((s=Object(i.a)(Object(i.a)({},s),{},{id:t.state.currentItem.id})).password||(s.password=null)),console.log(s,"vvvvvvvvvvvv"),G.saveOrEditUser(s).then((function(a){G.allUsers().then((function(e){t.setState({users:e.object,totalElements:e.object.totalElements,currentPage:e.object.currentPage,currentItem:""})})),e()})).catch((function(t){e()}))},remove:function(){G.removeUser(t.state.currentItem.id).then((function(e){e&&t.setState({users:t.state.users.filter((function(e){return e.id!==t.state.currentItem.id}))}),a()})).catch((function(t){a()}))}})})}}]),a}(s.Component),Ot=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={activeTab:"2",showModal:!1,showRemoveModal:!1,currentItem:"",shops:[],sellers:[],totalElements:0,currentPage:0},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allShops().then((function(e){t.setState({shops:e.object,totalElements:e.totalElements,currentPage:e.currentPage,currentItem:""})})),G.allUsersByRoleSeller().then((function(e){t.setState({sellers:null!=e?e.object:[]})}))}},{key:"render",value:function(){var t=this,e=function(){t.setState({currentItem:"",showModal:!1})},a=function(){t.setState({showRemoveModal:!1,currentItem:""})};return Object(A.jsx)(ut.a,{tabId:this.props.tabId,children:Object(A.jsx)(mt,{state:this.state,title:"Magazinlar",set:function(e){t.setState(e)},names:["T/R","name","address","seller","Active","Actions"],currentPage:0,dataType:"shops",datas:this.state.shops,changeActive:function(e,a){console.log(e,"IDDDDD"),G.changeShopActive(e,a).then((function(s){a?N.b.warning("Blocked"):N.b.success("Activate");for(var n=t.state.shops,c=0;c<n.length;c++)n[c].id===e&&(n[c].active=!n[c].active);console.log(n),console.log(t.state.shops),t.setState({shops:n})}))},openModal:function(e){console.log(e,"ITEM"),t.setState({currentItem:e,showModal:!t.state.showModal})},closeModal:e,openRemoveModal:function(e){t.setState({showRemoveModal:!0,currentItem:e})},closeRemoveModal:a,saveOrEdit:function(a,s){t.state.currentItem&&(s=Object(i.a)(Object(i.a)({},s),{},{id:t.state.currentItem.id})),""===s.seller&&(s.seller=void 0);for(var n=0;n<t.state.sellers.length;n++)if(t.state.sellers[n].id===s.seller){s.seller=t.state.sellers[n];break}G.saveOrEditShop(s).then((function(a){G.allShops().then((function(e){t.setState({shops:e.object,totalElements:e.totalElements,currentPage:e.currentPage,currentItem:""})})),e()})).catch((function(t){e()}))},remove:function(){G.removeShop(t.state.currentItem.id).then((function(e){e&&t.setState({shops:t.state.shops.filter((function(e){return e.id!=t.state.currentItem.id}))}),a(),console.log(t.state.currentItem,"RRRRRRRRRRRRRRRAAAA")})).catch((function(t){a()}))}})})}}]),a}(s.Component),ft=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={activeTab:"3",showModal:!1,showRemoveModal:!1,currentItem:"",warehouses:[],totalElements:0,currentPage:0},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allWarehouses().then((function(e){t.setState({warehouses:e.object,totalElements:e.totalElements,currentPage:e.currentPage,currentItem:""})}))}},{key:"render",value:function(){var t=this,e=function(){t.setState({currentItem:"",showModal:!1})},a=function(){t.setState({showRemoveModal:!1,currentItem:""})},s=function(e,a){G.changeWarehouseActive(e,a).then((function(e){a?N.b.warning("Blocked"):N.b.success("Activate"),G.allWarehouses().then((function(e){t.setState({warehouses:e.object,totalElements:e.totalElements,currentPage:e.currentPage,currentItem:""})}))}))};return Object(A.jsx)(ut.a,{tabId:this.props.tabId,children:Object(A.jsx)(mt,{state:this.state,title:"Omborlar",set:function(e){t.setState(e)},names:["T/R","name","address","shop","Active","Actions"],currentPage:0,dataType:"warehouses",datas:this.state.warehouses,changeActive:s,changeWarehouseActive:s,openModal:function(e){t.setState({currentItem:e,showModal:!t.state.showModal})},closeModal:e,openRemoveModal:function(e){t.setState({showRemoveModal:!0,currentItem:e})},closeRemoveModal:a,saveOrEdit:function(a,s){t.state.currentItem&&(s=Object(i.a)(Object(i.a)({},s),{},{id:t.state.currentItem.id})),G.saveOrEditWarehouse(s).then((function(a){G.allWarehouses().then((function(e){t.setState({warehouses:e.object,totalElements:e.totalElements,currentPage:e.currentPage,currentItem:""})})),e()})).catch((function(t){e()}))},remove:function(){G.removeWarehouse(t.state.currentItem.id).then((function(e){e&&t.setState({warehouses:t.state.warehouses.filter((function(e){return e.id!=t.state.currentItem.id}))}),a()})).catch((function(t){a()}))}})})}}]),a}(s.Component),xt=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={activeTab:"4",showModal:!1,showRemoveModal:!1,currentItem:"",categories:[],sellers:[],totalElements:0,currentPage:0},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allCategories().then((function(e){t.setState({categories:e.object,totalElements:e.totalElements,currentPage:e.currentPage,currentItem:""})}))}},{key:"render",value:function(){var t=this,e=function(){t.setState({currentItem:"",showModal:!1})},a=function(){t.setState({showRemoveModal:!1,currentItem:""})};return Object(A.jsx)(ut.a,{tabId:this.props.tabId,children:Object(A.jsx)(mt,{state:this.state,title:"Kategoriyalar",set:function(e){t.setState(e)},names:["T/R","Nomi","Tegishli","Actions"],currentPage:0,dataType:"categories",datas:this.state.categories,openModal:function(e){t.setState({currentItem:e,showModal:!t.state.showModal})},closeModal:e,openRemoveModal:function(e){t.setState({showRemoveModal:!0,currentItem:e})},closeRemoveModal:a,saveOrEdit:function(a,s){if(t.state.currentItem&&(s=Object(i.a)(Object(i.a)({},s),{},{id:t.state.currentItem.id})),""===s.parentCategoryDto&&(s.parentCategoryDto=void 0),console.log(t.state.categories),console.log(s.parentCategoryDto),console.log(t.state.categories.length,"length"),null!=s.parentCategoryDto)for(var n=0;n<t.state.categories.length;n++)if(t.state.categories[n].id==s.parentCategoryDto){s.parentCategoryDto=t.state.categories[n];break}G.saveOrEditCategory(s).then((function(a){G.allCategories().then((function(e){t.setState({categories:e.object,totalElements:e.totalElements,currentPage:e.currentPage,currentItem:""})})),e()})).catch((function(t){e()}))},remove:function(){G.removeCategory(t.state.currentItem.id).then((function(e){G.allCategories().then((function(e){t.setState({categories:e.object,totalElements:e.totalElements,currentPage:e.currentPage,currentItem:""})})),a()})).catch((function(t){a()}))}})})}}]),a}(s.Component),gt=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={activeTab:"5",showModal:!1,showRemoveModal:!1,currentItem:"",products:[],categories:[],totalElements:0,currentPage:0},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allProduct().then((function(e){t.setState({products:e.object,totalElements:e.object.totalElements,currentPage:e.object.currentPage,currentItem:""})})).catch((function(e){t.setState({totalElements:0,currentPage:0,currentItem:""})})),G.allCategories().then((function(e){t.setState({categories:e.object})}))}},{key:"render",value:function(){var t=this,e=function(){t.setState({currentItem:"",showModal:!1})},a=function(){t.setState({showRemoveModal:!1,currentItem:""})};return Object(A.jsx)(ut.a,{tabId:this.props.tabId,children:Object(A.jsx)(mt,{state:this.state,title:"Produktlar",set:function(e){t.setState(e)},names:"ROLE_DIRECTOR"===L()?["T/R","name","incomePrice","salePrice","norma","kategoriya","Active","Actions"]:["T/R","name","salePrice","norma","kategoriya","Active","Actions"],currentPage:0,dataType:"products",datas:this.state.products,changeActive:function(e,a){G.changeProductActive(e,a).then((function(s){a?N.b.warning("Blocked"):N.b.success("Activate");for(var n=t.state.products,c=0;c<n.length;c++)n[c].id===e&&(n[c].active=!n[c].active);t.setState({products:n})}))},openModal:function(e){G.allCategories().then((function(a){t.setState({categories:a.object,currentItem:e,showModal:!t.state.showModal})}))},closeModal:e,openRemoveModal:function(e){t.setState({showRemoveModal:!0,currentItem:e})},closeRemoveModal:a,saveOrEdit:function(a,s){if(t.state.currentItem&&(s=Object(i.a)(Object(i.a)({},s),{},{id:t.state.currentItem.id})),s.categoryDto)for(var n=0;n<t.state.categories.length;n++)if(t.state.categories[n].id==s.categoryDto){s.categoryDto=t.state.categories[n];break}""==s.categoryDto&&(s.categoryDto=null),G.saveOrEditProduct(s).then((function(a){G.allProduct().then((function(e){t.setState({products:e.object,totalElements:e.object.totalElements,currentPage:e.object.currentPage,currentItem:""})})).catch((function(e){t.setState({totalElements:0})})),e()})).catch((function(t){e()}))},remove:function(){G.removeProduct(t.state.currentItem.id).then((function(e){e&&t.setState({products:t.state.products.filter((function(e){return e.id!=t.state.currentItem.id}))}),a()})).catch((function(t){a()}))}})})}}]),a}(s.Component),vt=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={showModal:!1,item:"",warehouses:[],products:[],pwa:[{id:"",productDto:"",amount:0}],accepted:!1,toWarehouseId:0,fromWarehouseId:0,incomeList:[],totalElements:0,totalPages:0,currentPage:0,size:10,acceptedIncomeId:"",showAcceptModal:!1,removeIncomeId:"",showRemoveModal:!1,showItemModal:!1,startDate:"",endDate:""},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allWarehouseWithoutPageable().then((function(e){console.log(e,"allALL"),t.setState({warehouses:e})})),G.getWarehouseIncomeByApprove({accepted:this.state.accepted,income:!0,fromWarehouseId:this.state.fromWarehouseId,toWarehouseId:this.state.toWarehouseId,page:this.state.currentPage,size:this.state.size,startDate:"",endDate:""}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({incomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages})}))}},{key:"render",value:function(){var t=this,e=function(e){console.log(e.target.value,"APPROVED"),G.getWarehouseIncomeByApprove({accepted:!t.state.accepted,income:!0,fromWarehouseId:0,toWarehouseId:t.state.toWarehouseId,page:0,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({incomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,accepted:!t.state.accepted,currentPage:0})}))},a=function(e){G.allWarehouseWithoutPageable().then((function(a){console.log(a,"allALL"),t.setState({warehouses:a,showModal:!t.state.showModal,item:e})}))},s=function(e){G.searchProduct(e).then((function(e){console.log(e,"RESSEarchProduct"),t.setState({products:e})}))},n=function(e,a){setTimeout((function(){a(function(e){if(e)return t.state.products.filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())}))}(e))}),1e3)},c=function(e){t.setState({showAcceptModal:!t.state.showAcceptModal,acceptedIncomeId:e})},o=function(e){t.setState({showRemoveModal:!t.state.showRemoveModal,removeIncomeId:e})},r=function(e){console.log(e,"ITEM TO SHOW PWA"),t.setState({item:e,showItemModal:!t.state.showItemModal})},i=function(e){console.log("active page is ".concat(e)),G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!0,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:e-1,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(a){console.log(a,"RESRESRESRES===INCOMES"),t.setState({incomeList:a.object,totalElements:a.totalElements,totalPages:a.totalPages,currentPage:e-1})}))},l=function(e){t.state.endDate?G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!0,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:0,size:t.state.size,startDate:e,endDate:t.state.endDate}).then((function(a){console.log(a,"RESRESRESRES===INCOMES"),t.setState({incomeList:a.object,totalElements:a.totalElements,totalPages:a.totalPages,startDate:e})})):t.setState({startDate:e})},u=function(e){G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!0,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:0,size:t.state.size,startDate:t.state.startDate,endDate:e}).then((function(a){console.log(a,"RESRESRESRES===INCOMES"),t.setState({incomeList:a.object,totalElements:a.totalElements,totalPages:a.totalPages,endDate:e})}))};return Object(A.jsxs)("div",{className:"mt-4",children:["ROLE_DIRECTOR"===L()||"ROLE_MANAGER"===L()?Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col-md-6",children:[Object(A.jsx)("button",{type:"button",className:"btn btn-success ml-5 mr-5",onClick:function(){return a("")},children:" Kirim qilish"}),Object(A.jsxs)("select",{name:"warehouse",id:"warehouse",onChange:function(e){var a=e.target.value;G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!0,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:a,page:0,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({incomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,toWarehouseId:a,currentPage:0})}))},children:[Object(A.jsx)("option",{value:0,children:"Barcha Omborlar :"}),this.state.warehouses&&this.state.warehouses.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]}),Object(A.jsx)("label",{htmlFor:"accepted",className:"ml-5",children:"Tasdiqlangam:"}),Object(A.jsx)("input",{id:"accepted",type:"checkbox",checked:this.state.accepted,onChange:e,className:"ml-2"})]}),Object(A.jsxs)("div",{className:"col-md-3",children:[Object(A.jsx)(nt.a,{selected:this.state.startDate,onChange:function(t){return l(t)},selectsStart:!0,startDate:this.state.startDate,endDate:this.state.endDate}),Object(A.jsx)(nt.a,{selected:this.state.endDate,onChange:function(t){return u(t)},selectsEnd:!0,startDate:this.state.startDate,endDate:this.state.endDate,minDate:this.state.startDate})]}),Object(A.jsx)("div",{className:"col-md-3",children:Object(A.jsx)($.a,{activePage:this.state.currentPage+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:i,itemClass:"page-item",linkClass:"page-link"})})]}):Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col-md-6",children:[Object(A.jsx)("label",{htmlFor:"accepted",className:"ml-5",children:"Tasdiqlangam:"}),Object(A.jsx)("input",{id:"accepted",type:"checkbox",checked:this.state.accepted,onChange:e,className:"ml-2"})]}),Object(A.jsxs)("div",{className:"col-md-3",children:[Object(A.jsx)(nt.a,{selected:this.state.startDate,onChange:function(t){return l(t)},selectsStart:!0,startDate:this.state.startDate,endDate:this.state.endDate}),Object(A.jsx)(nt.a,{selected:this.state.endDate,onChange:function(t){return u(t)},selectsEnd:!0,startDate:this.state.startDate,endDate:this.state.endDate,minDate:this.state.startDate})]}),Object(A.jsx)("div",{className:"col-md-3",children:Object(A.jsx)($.a,{activePage:this.state.currentPage+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:i,itemClass:"page-item",linkClass:"page-link"})})]}),Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Qayerga"}),Object(A.jsx)("th",{children:"Qachon"}),Object(A.jsx)("th",{children:"Kim"}),Object(A.jsx)("th",{children:"Qayerdan"}),Object(A.jsx)("th",{children:"Tasdiqlangan"}),Object(A.jsx)("th",{children:"Nimalar"}),"ROLE_SELLER"===L()||this.state.accepted?"":Object(A.jsx)("th",{children:"Amallar"})]}),this.state.incomeList&&this.state.incomeList.map((function(e,a){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:a+1+t.state.currentPage*t.state.size}),Object(A.jsx)("td",{children:null!=e.toWarehouseDto?e.toWarehouseDto.name:""}),Object(A.jsx)("td",{children:e.createdAt.substr(0,10)+"  |  "+e.createdAt.substr(11,5)}),Object(A.jsx)("td",{children:e.createdBy.firstName+" "+e.createdBy.lastName}),Object(A.jsx)("td",{children:e.fromWarehouseDto?e.fromWarehouseDto.name:null}),e.accepted?Object(A.jsx)("td",{children:Object(A.jsx)("input",{type:"checkbox",checked:e.accepted})}):Object(A.jsx)("td",{children:Object(A.jsx)("input",{type:"checkbox",checked:e.accepted,onChange:function(){return c(e.id)}})}),Object(A.jsx)("td",{children:Object(A.jsx)("button",{onClick:function(){return r(e)},children:"..."})}),e.accepted||"ROLE_SELLER"===L()?"":Object(A.jsx)("td",{children:Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e.id)},children:"O'chirish"})})]})}))]}),Object(A.jsx)(H.a,{size:"lg",isOpen:this.state.showModal,toggle:function(){return a("")},children:Object(A.jsxs)(w.AvForm,{onValidSubmit:function(e,a){e.preventDefault(),console.log(a,"VVVVVVVVVVVVVVVVVVVVVVV");var s={toWarehouseDto:{id:a.toWarehouseId},productWithAmountDtos:t.state.pwa};console.log(s,"REQTRANSFER"),G.saveOrEditTransfer(s).then((function(e){G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!0,fromWarehouseId:0,toWarehouseId:0,page:t.state.currentPage,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({incomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,showModal:!t.state.showModal,item:"",pwa:[],products:[]})}))}))},children:[Object(A.jsxs)(Y.a,{children:["ROLE_DIRECTOR"===L()||"ROLE_MANAGER"===L()?Object(A.jsxs)(w.AvField,{label:"Qaysi omborga kirim qilmoqchisiz?",type:"select",name:"toWarehouseId",children:[Object(A.jsx)("option",{value:"",disabled:!0,children:"Ombor tanlang:"}),this.state.warehouses&&this.state.warehouses.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]}):"",this.state.pwa&&this.state.pwa.map((function(e,a){return Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-5",children:Object(A.jsx)(q.a,{name:"prodId",cacheOptions:!0,loadOptions:n,defaultOptions:!0,value:e.productDto?e.productDto:"",onInputChange:s,onChange:function(e){return function(e,a){console.log(e,"PRODVVVVVVVVVVVVVVVV"),console.log(a,"PRODIIIIIIIIIIIIIIIIII");var s=t.state.pwa;s[a].productDto=e,t.setState({pwa:s})}(e,a)}})}),Object(A.jsx)("div",{className:"col-md-5",children:Object(A.jsx)("input",{value:e.amount,type:"number",name:"amount",onChange:function(e){return function(e,a){console.log(e.target.value,"AMOUNTVVVVVVVVVVVVVVVV"),console.log(a,"AMOUNTIIIIIIIIIIIIIIIIII");var s=t.state.pwa;s[a].amount=e.target.value,t.setState({pwa:s})}(e,a)}})}),Object(A.jsx)("div",{className:"col-md-2",children:Object(A.jsx)("div",{className:"minusButton pb-2",onClick:function(){return function(e,a){console.log(e,"ITEMMMMMMMMM"),console.log(a,"INDEXXXXXXX");var s=t.state.pwa;s.splice(a,1),t.setState({pwa:s})}(e,a)},children:"X"})})]},a)})),Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){var e=t.state.pwa,a={id:"",productDto:"",amount:0};console.log(a,"SSSSSSSSS"),e.push(a),console.log(e,"TEMPARR"),t.setState({pwa:e})},children:"+Add"})})]}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{type:"button",onClick:function(){return a("")},className:"btn btn-danger",children:"Bekor qilish"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Saqlash"})]})]})}),Object(A.jsxs)(H.a,{isOpen:this.state.showAcceptModal,toggle:function(){return c("")},children:[Object(A.jsx)(at.a,{children:"Tasdiqlamoqchimisiz?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return c("")},children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){G.acceptWarehouseIncome(t.state.acceptedIncomeId).then((function(e){G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!0,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:t.state.currentPage,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({incomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,showAcceptModal:!t.state.showAcceptModal,acceptedIncomeId:""})}))}))},children:"Tasdiqlash"})]})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showRemoveModal,toggle:function(){return o("")},children:[Object(A.jsx)(at.a,{children:"O'chirmoqchimisiz?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return o("")},children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){G.removeWarehouseIncome(t.state.removeIncomeId).then((function(e){G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!0,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:t.state.currentPage,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({incomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,showRemoveModal:!t.state.showRemoveModal,removeIncomeId:""})}))}))},children:"O'chirish"})]})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showItemModal,toggle:function(){return r("")},children:[Object(A.jsx)(Y.a,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Maxsulot Nomi"}),Object(A.jsx)("th",{children:"Soni"})]}),this.state.item?this.state.item.productWithAmountDtos&&this.state.item.productWithAmountDtos.map((function(t,e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e+1}),Object(A.jsx)("td",{children:t.productDto.name}),Object(A.jsx)("td",{children:t.amount})]})})):""]})}),Object(A.jsx)(J.a,{children:Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){return r("")},children:"Yopish"})})]})]})}}]),a}(s.Component),Et=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={showAddModal:!1,item:"",products:[],pwa:[{id:"",productDto:"",amount:0,productCount:"0"}],warehouses:[],fromWarehouseId:0,toWarehouseId:0,page:0,size:10,accepted:!1,outcomeList:[],totalElements:0,totalPages:0,showItemModal:!1,showRemoveModal:!1,removeOutcomeId:"",startDate:"",endDate:""},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allWarehouseWithoutPageable().then((function(e){console.log(e,"allALL"),t.setState({warehouses:e})})),G.getWarehouseIncomeByApprove({accepted:this.state.accepted,income:!1,fromWarehouseId:this.state.fromWarehouseId,toWarehouseId:this.state.toWarehouseId,page:this.state.page,size:this.state.size,startDate:"",endDate:""}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({outcomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages})}))}},{key:"render",value:function(){var t=this,e=function(e){t.setState({showAddModal:!t.state.showAddModal,item:e})},a=function(e){G.searchProduct(e).then((function(e){t.setState({products:e})}))},s=function(e,a){setTimeout((function(){a(function(e){if(e)return t.state.products.filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())}))}(e))}),500)},n=function(e){console.log(e,"ITEM TO SHOW PWA"),t.setState({item:e,showItemModal:!t.state.showItemModal})},c=function(e){t.setState({showRemoveModal:!t.state.showRemoveModal,removeOutcomeId:e})};return Object(A.jsxs)("div",{className:"mt-4",children:[Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col-md-6",children:[Object(A.jsx)("button",{type:"button",className:"btn btn-success ml-5 mr-5",onClick:function(){return e("")},children:"Chiqim qilish"}),"ROLE_DIRECTOR"===L()||"ROLE_MANAGER"===L()?Object(A.jsxs)("select",{name:"warehouse",id:"warehouse",onChange:function(e){var a=e.target.value;G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!1,fromWarehouseId:a,toWarehouseId:t.state.toWarehouseId,page:0,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({outcomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,fromWarehouseId:a,page:0})}))},children:[Object(A.jsx)("option",{value:0,children:"Barcha Omborlar :"}),this.state.warehouses&&this.state.warehouses.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]}):"",Object(A.jsx)("label",{htmlFor:"accepted",className:"ml-5",children:"Tasdiqlangan:"}),Object(A.jsx)("input",{id:"accepted",type:"checkbox",checked:this.state.accepted,onChange:function(e){console.log(e.target.value,"APPROVED"),G.getWarehouseIncomeByApprove({accepted:!t.state.accepted,income:!1,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:0,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({outcomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,accepted:!t.state.accepted,page:0})}))},className:"ml-2"})]}),Object(A.jsxs)("div",{className:"col-md-3",children:[Object(A.jsx)(nt.a,{selected:this.state.startDate,onChange:function(e){return a=e,void(t.state.endDate?G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!1,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:0,size:t.state.size,startDate:a,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({outcomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,startDate:a})})):t.setState({startDate:a}));var a},selectsStart:!0,startDate:this.state.startDate,endDate:this.state.endDate}),Object(A.jsx)(nt.a,{selected:this.state.endDate,onChange:function(e){return a=e,void G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!1,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:0,size:t.state.size,startDate:t.state.startDate,endDate:a}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({outcomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,endDate:a})}));var a},selectsEnd:!0,startDate:this.state.startDate,endDate:this.state.endDate,minDate:this.state.startDate})]}),Object(A.jsx)("div",{className:"col-md-3",children:Object(A.jsx)($.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:function(e){G.getWarehouseIncomeByApprove({accepted:!t.state.accepted,income:!1,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:e-1,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(a){console.log(a,"RESRESRESRES===INCOMES"),t.setState({outcomeList:a.object,totalElements:a.totalElements,totalPages:a.totalPages,page:e-1})}))},itemClass:"page-item",linkClass:"page-link"})})]}),Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Qayerdan"}),Object(A.jsx)("th",{children:"Qachon"}),Object(A.jsx)("th",{children:"Kim"}),Object(A.jsx)("th",{children:"Qayerga"}),Object(A.jsx)("th",{children:"Tasdiqlangan"}),Object(A.jsx)("th",{children:"Nimalar"}),this.state.accepted?"":Object(A.jsx)("th",{children:"Amallar"})]}),this.state.outcomeList&&this.state.outcomeList.map((function(e,a){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:a+1+t.state.page*t.state.size}),Object(A.jsx)("td",{children:e.fromWarehouseDto.name}),Object(A.jsx)("td",{children:e.createdAt.substr(0,10)+"  |  "+e.createdAt.substr(11,5)}),Object(A.jsx)("td",{children:e.createdBy.firstName+" "+e.createdBy.lastName}),Object(A.jsx)("td",{children:e.toWarehouseDto?e.toWarehouseDto.name:null}),Object(A.jsx)("td",{children:Object(A.jsx)("input",{type:"checkbox",checked:e.accepted})}),Object(A.jsx)("td",{children:Object(A.jsx)("button",{onClick:function(){return n(e)},children:"..."})}),e.accepted?"":Object(A.jsx)("td",{children:Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return c(e.id)},children:"O'chirish"})})]})}))]}),Object(A.jsx)(H.a,{size:"lg",isOpen:this.state.showAddModal,toggle:function(){return e("")},children:Object(A.jsxs)(w.AvForm,{onValidSubmit:function(e,a){e.preventDefault();var s={fromWarehouseDto:{id:a.fromWarehouseId},toWarehouseDto:{id:a.toWarehouseId},productWithAmountDtos:t.state.pwa};console.log(s,"REQTRANSFER"),G.saveOrEditTransfer(s).then((function(e){G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!1,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:t.state.page,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({outcomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,showAddModal:!t.state.showAddModal,item:"",pwa:[],products:[]})}))}))},children:[Object(A.jsxs)(Y.a,{children:["ROLE_DIRECTOR"===L()||"ROLE_MANAGER"===L()?Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-6",children:Object(A.jsxs)(w.AvField,{label:"Qaysi ombordan chiqim qilmoqchisiz?",type:"select",name:"fromWarehouseId",onChange:function(e){console.log(e.target.value,"FROM WAREHOUSE ID"),t.setState({fromWarehouseId:e.target.value})},children:[Object(A.jsx)("option",{value:"",disabled:!0,children:"Ombor tanlang:"}),this.state.warehouses&&this.state.warehouses.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]})}),Object(A.jsx)("div",{className:"col-md-6",children:Object(A.jsxs)(w.AvField,{label:"Qaysi omborga chiqim qilmoqchisiz?",type:"select",name:"toWarehouseId",children:[Object(A.jsx)("option",{value:"",disabled:!0,children:"Ombor tanlang:"}),this.state.warehouses&&this.state.warehouses.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]})})]}):Object(A.jsxs)(w.AvField,{label:"Qaysi omborga chiqim qilmoqchisiz?",type:"select",name:"toWarehouseId",children:[Object(A.jsx)("option",{value:"",disabled:!0,children:"Ombor tanlang:"}),this.state.warehouses&&this.state.warehouses.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]}),": ''",this.state.pwa&&this.state.pwa.map((function(e,n){return Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-5",children:Object(A.jsx)(q.a,{name:"prodId",cacheOptions:!0,loadOptions:s,defaultOptions:!0,value:e.productDto?e.productDto:"",onInputChange:a,onChange:function(e){return function(e,a){console.log(e.id,"PROD ID"),console.log(t.state.fromWarehouseId,"FROM W ID"),G.getProductCountByWarehouse(e.id,t.state.fromWarehouseId).then((function(s){var n=t.state.pwa;n[a].productDto=e,n[a].productCount=s,t.setState({pwa:n})}))}(e,n)}})}),Object(A.jsx)("div",{className:"col-md-5",children:Object(A.jsx)("input",{value:e.amount,type:"number",name:"amount",min:0,required:!0,max:e.productCount,onChange:function(e){return function(e,a){var s=e.target.value,n=t.state.pwa;console.log(Number(s)<1||Number(s)>n[a].productCount,"EL"),console.log(Number(s)<1,"AMOUNT"),console.log(n[a].productCount,"AMOUNT"),console.log(n[a].productCount,"AMOUNT"),Number(s)<1||Number(s)>n[a].productCount?e.target.value=void 0:(n[a].amount=e.target.value,t.setState({pwa:n}))}(e,n)}})}),Object(A.jsx)("div",{className:"col-md-2",children:Object(A.jsx)("div",{className:"minusButton pb-2",onClick:function(){return function(e,a){console.log(e,"ITEMMMMMMMMM"),console.log(a,"INDEXXXXXXX");var s=t.state.pwa;s.splice(a,1),t.setState({pwa:s})}(e,n)},children:"X"})})]},n)})),Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){var e=t.state.pwa,a={id:"",productDto:"",amount:0,productCount:"0"};console.log(a,"SSSSSSSSS"),e.push(a),console.log(e,"TEMPARR"),t.setState({pwa:e})},children:"+Add"})})]}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{type:"button",onClick:function(){return e("")},className:"btn btn-danger",children:"Bekor qilish"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Saqlash"})]})]})}),Object(A.jsxs)(H.a,{isOpen:this.state.showItemModal,toggle:function(){return n("")},children:[Object(A.jsx)(Y.a,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Maxsulot Nomi"}),Object(A.jsx)("th",{children:"Soni"})]}),this.state.item?this.state.item.productWithAmountDtos&&this.state.item.productWithAmountDtos.map((function(t,e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e+1}),Object(A.jsx)("td",{children:t.productDto.name}),Object(A.jsx)("td",{children:t.amount})]})})):""]})}),Object(A.jsx)(J.a,{children:Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){return n("")},children:"Yopish"})})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showRemoveModal,toggle:function(){return c("")},children:[Object(A.jsx)(at.a,{children:"O'chirmoqchimisiz?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return c("")},children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){G.removeWarehouseIncome(t.state.removeOutcomeId).then((function(e){G.getWarehouseIncomeByApprove({accepted:t.state.accepted,income:!1,fromWarehouseId:t.state.fromWarehouseId,toWarehouseId:t.state.toWarehouseId,page:t.state.page,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRESRES===INCOMES"),t.setState({outcomeList:e.object,totalElements:e.totalElements,totalPages:e.totalPages,showRemoveModal:!t.state.showRemoveModal,removeOutcomeId:""})}))}))},children:"O'chirish"})]})]})]})}}]),a}(s.Component),wt=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={activeTab:"1"},s}return Object(x.a)(a,[{key:"render",value:function(){var t=this,e=this.props.history,a=function(e){t.state.activeTab!==e&&t.setState({activeTab:e})};return L()?Object(A.jsxs)("div",{className:"row row-style",children:[Object(A.jsx)("div",{className:"col-md-2 col-2-style",children:Object(A.jsx)(B,{role:L(),history:e,tab:"3"})}),Object(A.jsxs)("div",{className:"col-md-10 col-10-style",children:[Object(A.jsxs)(ot.a,{className:"mt-2",tabs:!0,children:[Object(A.jsx)(rt.a,{className:"ml-4",children:Object(A.jsx)(it.a,{className:{active:"1"===this.state.activeTab},onClick:function(){a("1")},children:"Kirim"})}),Object(A.jsx)(rt.a,{className:"ml-4",children:Object(A.jsx)(it.a,{className:{active:"2"===this.state.activeTab},onClick:function(){a("2")},children:"Chiqim"})})]}),Object(A.jsxs)(lt.a,{activeTab:this.state.activeTab,className:"mt-3",children:[Object(A.jsx)(ut.a,{tabId:"1",children:Object(A.jsx)(vt,{})}),Object(A.jsx)(ut.a,{tabId:"2",children:Object(A.jsx)(Et,{})})]})]})]}):Object(A.jsx)(m.a,{to:"/"})}}]),a}(s.Component),St=a(74),Dt=(a(5),function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).getTransfers=function(){D()(Object(i.a)(Object(i.a)({method:"GET",url:R+V.getAllTransferByPageable},_),{},{params:{accepted:s.state.isAccepted}})).then((function(t){s.setState({transfers:t.data.object,totalElements:t.data.object.totalElements})})).catch((function(t){}))},s.updateTransfer=function(t){D()({method:"PUT",url:R+V.saveOrEditTransfer+t,headers:{Authorization:localStorage.getItem(I),"Access-Control-Allow-Origin":"*"},params:{accepted:s.state.isAccepted}}).then((function(t){s.getTransfers(),N.b.success(t.data.message)})).catch((function(t){}))},s._onChange=function(t){s.state.isAccepted=t.target.value,s.getTransfers()},s.state={activeTab:"1",showModal:!1,showRemoveModal:!1,currentItem:"",transfers:[],totalElements:0,currentPage:0,isAccepted:!1},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){"ROLE_MANAGER"===L()&&this.setState({activeTab:"1"}),this.getTransfers()}},{key:"render",value:function(){var t=this,e=this.props.history;return L()?Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-2",style:{backgroundColor:"#eceff1"},children:Object(A.jsx)(B,{role:L(),history:e})}),Object(A.jsxs)("div",{className:"col-md-10",style:{backgroundColor:"#e2e1e1"},children:[Object(A.jsx)(ot.a,{className:"mt-2",tabs:!0,children:Object(A.jsx)(rt.a,{children:Object(A.jsx)(it.a,{className:{active:"1"===this.state.activeTab},onClick:function(){var e;e="1",t.state.activeTab!==e&&t.setState({activeTab:e})},children:"Transferlar"})})}),Object(A.jsx)(lt.a,{activeTab:this.state.activeTab,className:"mt-3",children:"ROLE_DIRECTOR"===L()||"ROLE_MANAGER"===L()?Object(A.jsx)(ut.a,{tabId:"1",children:Object(A.jsx)(dt.a,{children:Object(A.jsxs)(ht.a,{sm:"12",children:[Object(A.jsx)("form",{action:"",children:Object(A.jsxs)("select",{className:"form-control-sm",style:{outline:"none",backgroundColor:"#92d4a5"},onChange:function(e){return t._onChange(e)},children:[Object(A.jsx)("option",{value:!1,children:"Tasdiqlanmagan"}),Object(A.jsx)("option",{value:!0,children:"Tasdiqlangan"})]})}),Object(A.jsxs)(K.a,{striped:!0,children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/r"}),Object(A.jsx)("th",{children:"Qayerdan"}),Object(A.jsx)("th",{children:"Kimdan"}),Object(A.jsx)("th",{children:"Qayerga"}),Object(A.jsx)("th",{children:"Kimga"}),Object(A.jsx)("th",{children:"Soni"}),Object(A.jsx)("th",{children:"Accepted"})]})}),Object(A.jsx)("tbody",{children:this.state.transfers&&this.state.transfers.map((function(e,a){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:a+1+10*t.state.currentPage}),Object(A.jsx)("td",{children:e.shopDto.name+"  "+e.shopDto.address}),Object(A.jsx)("td",{children:e.sellerDto.firstName+"  "+e.sellerDto.lastName}),Object(A.jsx)("td",{children:e.managerDto.firstName+"  "+e.managerDto.lastName}),e.accepted?null:Object(A.jsx)("td",{children:Object(A.jsx)(St.a,{onClick:function(){return t.updateReport(e.id)},type:"button",className:"btn btn-success",children:"Tasdiqlash"})}),Object(A.jsx)("td",{children:e.transfers})]})}))})]})]})})}):""}),Object(A.jsx)(lt.a,{activeTab:this.state.activeTab,className:"mt-3",children:"ROLE_SELLER"===L()?Object(A.jsx)(ut.a,{tabId:"1",children:Object(A.jsx)(dt.a,{children:Object(A.jsx)(ht.a,{sm:"12",children:Object(A.jsxs)(K.a,{striped:!0,children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Shop"}),Object(A.jsx)("th",{children:"Seller"}),Object(A.jsx)("th",{children:"Manager"}),Object(A.jsx)("th",{children:"Accepted"})]})}),Object(A.jsx)("tbody",{children:this.state.reports&&this.state.reports.map((function(e,a){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:a+1+10*t.state.currentPage}),Object(A.jsx)("td",{children:e.shopDto.name+"  "+e.shopDto.address}),Object(A.jsx)("td",{children:e.sellerDto.firstName+"  "+e.sellerDto.lastName}),Object(A.jsx)("td",{children:e.managerDto.firstName+"  "+e.managerDto.lastName}),Object(A.jsx)("td",{children:Object(A.jsx)("input",{type:"checkbox",checked:e.accepted})}),Object(A.jsx)("td",{children:e.reports})]})}))})]})})})}):""})]})]}):Object(A.jsx)(m.a,{to:"/"})}}]),a}(s.Component)),Rt=a(249),It=a(69),yt=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={activeTab:"1"},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){"ROLE_MANAGER"===L()&&this.setState({activeTab:"4"})}},{key:"setState",value:function(t,e){Object(Rt.a)(Object(It.a)(a.prototype),"setState",this).call(this,t,e)}},{key:"render",value:function(){var t=this,e=this.props.history,a=function(e){t.state.activeTab!==e&&t.setState({activeTab:e})};return L()?Object(A.jsxs)("div",{className:"row row-style",children:[Object(A.jsx)("div",{className:"col-md-2 col-2-style",children:Object(A.jsx)(B,{role:L(),history:e,tab:"6"})}),Object(A.jsxs)("div",{className:"col-md-10 col-10-style",children:["ROLE_DIRECTOR"===L()?Object(A.jsxs)(ot.a,{className:"mt-2",tabs:!0,children:[Object(A.jsx)(rt.a,{className:"ml-3",children:Object(A.jsx)(it.a,{className:{active:"1"===this.state.activeTab},onClick:function(){a("1")},children:"Hodimlar"})}),Object(A.jsx)(rt.a,{className:"ml-3",children:Object(A.jsx)(it.a,{className:{active:"2"===this.state.activeTab},onClick:function(){a("2")},children:"Magazinlar"})}),Object(A.jsx)(rt.a,{className:"ml-3",children:Object(A.jsx)(it.a,{className:{active:"3"===this.state.activeTab},onClick:function(){a("3")},children:"Omborlar"})}),Object(A.jsx)(rt.a,{className:"ml-3",children:Object(A.jsx)(it.a,{className:{active:"4"===this.state.activeTab},onClick:function(){a("4")},children:"Kategoriya"})}),Object(A.jsx)(rt.a,{className:"ml-3",children:Object(A.jsx)(it.a,{className:{active:"5"===this.state.activeTab},onClick:function(){a("5")},children:"Maxsulotlar"})})]}):"","ROLE_MANAGER"===L()?Object(A.jsxs)(ot.a,{className:"mt-2",tabs:!0,children:[Object(A.jsx)(rt.a,{className:"ml-3",children:Object(A.jsx)(it.a,{className:{active:"4"===this.state.activeTab},onClick:function(){a("4")},children:"Kategoriya"})}),Object(A.jsx)(rt.a,{className:"ml-3",children:Object(A.jsx)(it.a,{className:{active:"5"===this.state.activeTab},onClick:function(){a("5")},children:"Maxsulotlar"})})]}):"",Object(A.jsxs)(lt.a,{activeTab:this.state.activeTab,className:"mt-3",children:["ROLE_DIRECTOR"===L()?Object(A.jsx)(pt,{state:this.state,tabId:"1"}):"","ROLE_DIRECTOR"===L()?Object(A.jsx)(Ot,{state:this.state,tabId:"2"}):"","ROLE_DIRECTOR"===L()?Object(A.jsx)(ft,{state:this.state,tabId:"3"}):"",Object(A.jsx)(xt,{state:this.state,tabId:"4"}),Object(A.jsx)(gt,{state:this.state,tabId:"5"})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showRemoveModal,toggle:function(){return t.setState({showRemoveModal:!t.state.showRemoveModal,currentItem:""})},children:[Object(A.jsx)(at.a,{children:"O'chirishni istaysizmi ?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{type:"button",onClick:function(){return t.setState({showRemoveModal:!t.state.showRemoveModal,currentItem:""})},className:"btn btn-danger",children:"Bekor qilish"}),Object(A.jsx)("button",{type:"button",onClick:"",className:"btn btn-success",children:"Ha"})]})]})]})]}):Object(A.jsx)(m.a,{to:"/"})}}]),a}(s.Component),Ct=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(){return Object(f.a)(this,a),e.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){var t=this.props.history;return L()?Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-2",children:Object(A.jsx)(B,{role:L(),history:t})}),Object(A.jsxs)("div",{className:"col-md-10",children:["This is Settings page for ",L()]})]}):Object(A.jsx)(m.a,{to:"/"})}}]),a}(s.Component),Nt=a(55),kt=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={showSaleModal:!1,showTradePwaModal:!1,showCloseDayModal:!1,showTradeRemoveModal:!1,item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],products:[],fromWarehouseId:0,discount:"",hasDiscount:!1,totalAmount:0,totalDiscount:0,accepted:!1,trades:[],totalElements:0,page:0,size:0},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.getTradesByAccepted().then((function(e){console.log(e,"RES"),t.setState({trades:e})}))}},{key:"render",value:function(){var t=this,e=function(){var e=Object(Nt.a)(t.state.pwa).reduce((function(t,e){return t+e.realSoldPrice*e.amount}),0);t.setState({totalAmount:e},(function(){return a()}))},a=function(){var e=t.state.totalAmount;console.log(e,"totalAmount"),console.log(t.state.discount,"discount");var a=t.state.discount?"PERCENT"===t.state.discount.discountType?e*t.state.discount.amount/100:t.state.discount.amount:0;console.log(a,"totalDiscount"),t.setState({totalDiscount:a})},s=this.props.history,n=function(e){t.setState({showSaleModal:!t.state.showSaleModal,item:e,pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],discount:"",totalAmount:0,hasDiscount:!1,totalDiscount:0})},c=function(e,a){setTimeout((function(){a(function(e){if(e)return t.state.products.filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())}))}(e))}),100)},o=function(e){G.searchProduct(e).then((function(e){t.setState({products:e})}))},r=function(e){t.setState({item:e,showTradePwaModal:!t.state.showTradePwaModal})},i=function(e){t.setState({item:e,showTradeRemoveModal:!t.state.showTradeRemoveModal})},l=function(){t.setState({showCloseDayModal:!t.state.showCloseDayModal})};return L()&&"ROLE_SELLER"===L()?Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-2 col-2-style",children:Object(A.jsx)(B,{role:L(),history:s,tab:"1"})}),Object(A.jsxs)("div",{className:"col-md-10 col-10-style pb-3",children:[Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-4",children:Object(A.jsx)("button",{type:"button",className:"btn btn-success ml-5 mr-5",onClick:function(){return n("")},children:"Sotish"})}),Object(A.jsx)("div",{className:"col-md-4",children:this.state.trades.length?Object(A.jsxs)("span",{children:[Object(A.jsx)("span",{children:"Jami : "}),Object(A.jsx)("b",{children:this.state.trades.reduce((function(t,e){return t+e.afterDiscountTotalSum}),0)})," UZS"]}):""}),Object(A.jsx)("div",{className:"col-md-4",children:this.state.trades.length?Object(A.jsx)("button",{className:"btn btn-warning float-right",onClick:l,children:"Kunni yakunlash"}):""})]}),Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Sana"}),Object(A.jsx)("th",{children:"Jami savdo Summasi"}),Object(A.jsx)("th",{children:"Nimalar"}),Object(A.jsx)("th",{children:"Amallar"})]}),this.state.trades&&this.state.trades.map((function(t,e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e+1}),Object(A.jsx)("td",{children:t.createdAt.substr(0,10)+"  |  "+t.createdAt.substr(11,5)}),Object(A.jsxs)("td",{children:["Jami Savdo : ",Object(A.jsx)("b",{children:t.totalSum})," UZS ",Object(A.jsx)("br",{}),"Jami Skidka : ",Object(A.jsx)("b",{children:null!==t.discountDto?t.discountDto.amount:0})," ",null!==t.discountDto?"PERCENT"===t.discountDto.discountType?"%":"UZS":"",Object(A.jsx)("br",{}),"Qoldiq: ",Object(A.jsx)("b",{children:t.afterDiscountTotalSum})," UZS"]}),Object(A.jsx)("td",{children:Object(A.jsx)("button",{className:"btn btn-info",onClick:function(){return r(t)},children:"..."})}),Object(A.jsx)("td",{children:Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return i(t)},children:"O'chirish"})})]})}))]}),Object(A.jsxs)(H.a,{size:"lg",isOpen:this.state.showSaleModal,toggle:function(){return n("")},children:[Object(A.jsxs)(Y.a,{children:[Object(A.jsxs)("div",{children:[this.state.pwa&&this.state.pwa.map((function(a,s){return Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-4",children:Object(A.jsx)(q.a,{name:"prodId",cacheOptions:!0,loadOptions:c,defaultOptions:!0,value:a.productDto?a.productDto:"",onInputChange:o,onChange:function(a){return function(a,s){console.log(a,"PROD ID"),console.log(t.state.fromWarehouseId,"FROM W ID"),G.getProductCountByWarehouse(a.id,t.state.fromWarehouseId).then((function(n){var c=Object(Nt.a)(t.state.pwa);c[s].productDto=a,c[s].realSoldPrice=a.salePrice,c[s].productCount=n,t.setState({pwa:c},(function(){e()})),console.log(c,"TEMPARR")}))}(a,s)}})}),Object(A.jsx)("div",{className:"col-md-2",children:Object(A.jsx)("input",{value:a.amount,type:"number",name:"amount",min:0,required:!0,max:a.productCount,onChange:function(a){return function(a,s){var n=a.target.value,c=t.state.pwa;Number(n)<1||Number(n)>c[s].productCount?a.target.value=void 0:(c[s].amount=a.target.value,t.setState({pwa:c},(function(){e()})))}(a,s)}})}),Object(A.jsx)("div",{className:"col-md-1",children:Object(A.jsx)("span",{children:a.productDto.salePrice})}),Object(A.jsx)("div",{className:"col-md-2",children:Object(A.jsx)("input",{value:a.realSoldPrice?a.realSoldPrice:a.productDto.salePrice,type:"number",name:"realSoldPrice",min:a.productDto.incomePrice,required:!0,max:"1000000000",onChange:function(a){return function(a,s){var n=a.target.value,c=Object(Nt.a)(t.state.pwa);console.log(c[s].productDto.incomePrice,"XXXX"),console.log(n,"VALUE"),c[s].realSoldPrice=n,t.setState({pwa:c},(function(){e()}))}(a,s)}})}),Object(A.jsx)("div",{className:"col-md-1 ml-3",children:Object(A.jsx)("div",{className:"minusButton pb-2 ml-5",onClick:function(){return function(a,s){var n=t.state.pwa;n.splice(s,1),t.setState({pwa:n},(function(){e()}))}(0,s)},children:"X"})})]},s)})),Object(A.jsx)("button",{className:"btn btn-success mt-2",onClick:function(){var e=t.state.pwa;e.push({id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}),t.setState({pwa:e})},children:" + Add"})]}),Object(A.jsxs)("div",{className:"row mt-5",children:[Object(A.jsxs)("div",{className:"col-md-8",children:[Object(A.jsx)("div",{children:Object(A.jsx)("input",{type:"checkbox",value:this.state.hasDiscount,onChange:function(e){var s=e.target.value;if(console.log(s,"SSSS"),"true"==s)console.log("TRUE"),t.setState({discount:"",hasDiscount:!1,totalDiscount:0});else{console.log("FALSE");var n=t.state.discount;n={id:"",discountType:"PERCENT",amount:1},t.setState({discount:n,hasDiscount:!0},(function(){return a()})),a()}}})}),Object(A.jsx)("div",{children:this.state.discount?Object(A.jsxs)("div",{children:[Object(A.jsx)("input",{type:"number",value:this.state.discount.amount,onChange:function(e){var s=t.state.discount,n=e.target.value;Number(n)<1?e.target.value=void 0:(s.amount=n,t.setState({discount:s},(function(){return a()})),a())}}),Object(A.jsxs)("select",{value:this.state.discount.discountType,name:"discounType",id:"discounType",onChange:function(e){var s=t.state.discount,n=e.target.value;s.discountType=n,t.setState({discount:s},(function(){return a()})),a()},children:[Object(A.jsx)("option",{value:"PERCENT",children:"%"}),Object(A.jsx)("option",{value:"SOM",children:"SO'M"})]})]}):""})]}),Object(A.jsx)("div",{className:"col-md-4",children:Object(A.jsxs)("div",{children:["Total :",console.log(this.state.totalAmount,"amountTOTAL"),console.log(this.state.totalDiscount,"DiscountTOTAL"),this.state.totalAmount-this.state.totalDiscount]})})]})]}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return n("")},children:"Bekor qilish"}),Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){var e={productWithAmountDtos:t.state.pwa};t.state.discount&&(e.discountDto=t.state.discount),console.log(e,"OBJ FOR TradeDto"),G.saveOrEditTrade(e).then((function(e){G.getTradesByAccepted().then((function(e){console.log(e,"RES"),t.setState({trades:e,showSaleModal:!t.state.showSaleModal,item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],discount:"",totalAmount:0,hasDiscount:!1,totalDiscount:0})}))}))},children:"Saqlash"})]})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showTradePwaModal,toggle:function(){return r("")},children:[Object(A.jsx)(Y.a,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Maxsulot Nomi"}),Object(A.jsx)("th",{children:"Soni"}),Object(A.jsx)("th",{children:"Real Sotilgan narxi"})]}),this.state.item?this.state.item.productWithAmountDtos&&this.state.item.productWithAmountDtos.map((function(t,e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e+1}),Object(A.jsx)("td",{children:t.productDto.name}),Object(A.jsx)("td",{children:t.amount}),Object(A.jsx)("td",{children:t.realSoldPrice})]})})):""]})}),Object(A.jsx)(J.a,{children:Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){return r("")},children:"Yopish"})})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showTradeRemoveModal,toggle:function(){return i("")},children:[Object(A.jsx)(at.a,{children:"O'chirmoqchimisiz?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return i("")},children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){G.removeTrade(t.state.item.id).then((function(e){G.getTradesByAccepted().then((function(e){console.log(e,"RES"),t.setState({trades:e,item:"",showTradeRemoveModal:!t.state.showTradeRemoveModal})}))}))},children:"O'chirish"})]})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showCloseDayModal,toggle:l,children:[Object(A.jsx)(at.a,{children:"Kunni yakunlamoqchimisiz?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:l,children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){G.closeDay(t.state.trades[0].id).then((function(e){G.getTradesByAccepted().then((function(e){console.log(e,"RES"),t.setState({trades:e,showCloseDayModal:!t.state.showCloseDayModal})}))}))},children:"Ha"})]})]})]})]}):Object(A.jsx)(m.a,{to:"/"})}}]),a}(s.Component),Mt=Object(E.b)(null,null)(kt),At=function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={showAddRejectModal:!1,showRejectPwaModal:!1,showDeleteRejectModal:!1,showAcceptModal:!1,item:"",pwa:[],warehouses:[],accepted:!1,warehouseId:0,page:0,size:10,rejects:[],totalElements:0,startDate:"",endDate:""},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allWarehouses().then((function(e){console.log(e,"WAREHOUSES"),t.setState({warehouses:e.object})})),G.allReject({accepted:this.state.accepted,warehouseId:this.state.warehouseId,page:this.state.page,size:this.state.size,startDate:this.state.startDate,endDate:this.state.endDate}).then((function(e){t.setState({item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],rejects:e.object,totalElements:e.totalElements})}))}},{key:"render",value:function(){var t=this,e=this.props.history,a=function(e){t.setState({showAddRejectModal:!t.state.showAddRejectModal,item:e,pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}]})},s=function(e,a){setTimeout((function(){a(function(e){if(e)return t.state.products.filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())}))}(e))}),100)},n=function(e){G.searchProduct(e).then((function(e){t.setState({products:e})}))};console.log(this.state.pwa,"PWA");var c=function(e){console.log(e,"ITEM"),t.setState({item:e,showRejectPwaModal:!t.state.showRejectPwaModal})},o=function(e){t.setState({item:e,showDeleteRejectModal:!t.state.showDeleteRejectModal})},r=function(e){t.setState({item:e,showAcceptModal:!t.state.showAcceptModal})};return Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-2 col-2-style",children:Object(A.jsx)(B,{role:L(),history:e,tab:"4"})}),Object(A.jsxs)("div",{className:"col-md-10 col-10-style",children:[Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-3",children:"ROLE_SELLER"===L()?Object(A.jsx)("div",{children:Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){return a("")},children:"+Add"})}):Object(A.jsx)("div",{children:Object(A.jsxs)("select",{name:"status",id:"status",onChange:function(e){var a=e.target.value;console.log(a,"SSSS"),G.allReject({accepted:t.state.accepted,warehouseId:a,page:t.state.page,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){t.setState({item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],rejects:e.object,totalElements:e.totalElements,accepted:t.state.accepted,warehouseId:a})}))},children:[Object(A.jsx)("option",{value:"0",children:"Barchasi"}),this.state.warehouses&&this.state.warehouses.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]})})}),Object(A.jsx)("div",{className:"col-md-3",children:Object(A.jsxs)("select",{name:"status",id:"status",onChange:function(e){var a=e.target.value;console.log(a,"SSSS"),G.allReject({accepted:a,warehouseId:t.state.warehouseId,page:t.state.page,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){t.setState({item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],rejects:e.object,totalElements:e.totalElements,accepted:a})}))},children:[Object(A.jsx)("option",{value:"false",children:"Tasdiqlanmagan"}),Object(A.jsx)("option",{value:"true",children:"Tasdiqlangan"})]})}),Object(A.jsxs)("div",{className:"col-md-3",children:[Object(A.jsx)(nt.a,{selected:this.state.startDate,onChange:function(e){return a=e,console.log(a,"START_DATE"),void(t.state.endDate?G.allReject({accepted:t.state.accepted,warehouseId:t.state.warehouseId,page:t.state.page,size:t.state.size,startDate:a,endDate:t.state.endDate}).then((function(e){t.setState({item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],rejects:e.object,totalElements:e.totalElements,startDate:a})})):t.setState({startDate:a}));var a},selectsStart:!0,startDate:this.state.startDate,endDate:this.state.endDate}),Object(A.jsx)(nt.a,{selected:this.state.endDate,onChange:function(e){return a=e,console.log(a,"END_DATE"),void G.allReject({accepted:t.state.accepted,warehouseId:t.state.warehouseId,page:t.state.page,size:t.state.size,startDate:t.state.startDate,endDate:a}).then((function(e){t.setState({item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],rejects:e.object,totalElements:e.totalElements,endDate:a})}));var a},selectsEnd:!0,startDate:this.state.startDate,endDate:this.state.endDate,minDate:this.state.startDate})]}),Object(A.jsx)("div",{className:"col-md-3",children:Object(A.jsx)($.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:function(e){G.allReject({accepted:t.state.accepted,warehouseId:t.state.warehouseId,page:e-1,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(a){t.setState({item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],rejects:a.object,totalElements:a.totalElements,page:e-1})}))},itemClass:"page-item",linkClass:"page-link"})})]}),Object(A.jsx)("div",{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Magazin"}),Object(A.jsx)("th",{children:"Sotuvchi"}),Object(A.jsx)("th",{children:"Kim tasdiqladi"}),Object(A.jsx)("th",{children:"Sana"}),Object(A.jsx)("th",{children:"Summa"}),Object(A.jsx)("th",{children:"Tasdiqlangan"}),Object(A.jsx)("th",{children:"Nimalar"}),Object(A.jsx)("th",{children:"Action"})]}),this.state.rejects&&this.state.rejects.map((function(e,a){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:a+1+t.state.page*t.state.size}),Object(A.jsx)("td",{children:e.warehouseDto.shopDto.name}),Object(A.jsx)("td",{children:e.seller.firstName+" "+e.seller.lastName}),Object(A.jsx)("td",{children:e.manager?e.manager.firstName+" "+e.manager.lastName:""}),Object(A.jsx)("td",{children:e.createdAt.substr(0,10)+"  |  "+e.createdAt.substr(11,5)}),Object(A.jsx)("td",{children:e.rejectTotalSum}),Object(A.jsx)("td",{children:Object(A.jsx)("input",{type:"checkbox",checked:e.accepted})}),Object(A.jsx)("td",{children:Object(A.jsx)("button",{className:"btn btn-info",onClick:function(){return c(e)},children:"..."})}),Object(A.jsx)("td",{children:"ROLE_SELLER"===L()?e.accepted?"":Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e)},children:"O'chirish"}):e.accepted?"":Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){return r(e)},children:"Tasdiqlash"})})]})}))]})}),Object(A.jsxs)(H.a,{size:"lg",isOpen:this.state.showAddRejectModal,toggle:function(){return a("")},children:[Object(A.jsx)(Y.a,{children:Object(A.jsxs)("div",{children:[this.state.pwa&&this.state.pwa.map((function(e,a){return Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col-md-4",children:[Object(A.jsx)("label",{htmlFor:"prodId",children:"Maxsulot"}),Object(A.jsx)(q.a,{name:"prodId",id:"prodId",cacheOptions:!0,loadOptions:s,defaultOptions:!0,value:e.productDto?e.productDto:"",onInputChange:n,onChange:function(e){return function(e,a){var s=Object(Nt.a)(t.state.pwa);s[a].productDto=e,s[a].realSoldPrice=e.salePrice,t.setState({pwa:s})}(e,a)}})]}),Object(A.jsxs)("div",{className:"col-md-2 mr-2",children:[Object(A.jsx)("label",{htmlFor:"amount",children:"Son"}),Object(A.jsx)("input",{value:e.amount,type:"number",name:"amount",id:"amount",min:1,required:!0,onChange:function(e){return function(e,a){var s=e.target.value,n=t.state.pwa;Number(s)<1?e.target.value=void 0:(n[a].amount=e.target.value,t.setState({pwa:n}))}(e,a)}})]}),Object(A.jsxs)("div",{className:"col-md-2 ml-2",children:[Object(A.jsx)("label",{htmlFor:"rejectSum",children:"QaytarilganSumma/dona"}),Object(A.jsx)("input",{id:"rejectSum",value:e.realSoldPrice,type:"number",name:"realSoldPrice",required:!0,onChange:function(e){return function(e,a){var s=e.target.value,n=Object(Nt.a)(t.state.pwa);console.log(n[a].productDto.incomePrice,"XXXX"),console.log(s,"VALUE"),n[a].realSoldPrice=s,t.setState({pwa:n})}(e,a)}})]}),Object(A.jsx)("div",{className:"col-md-1 ml-3",children:Object(A.jsx)("div",{className:"minusButton pb-2 ml-5",onClick:function(){return function(e,a){var s=t.state.pwa;s.splice(a,1),t.setState({pwa:s})}(0,a)},children:"X"})})]},a)})),Object(A.jsx)("button",{className:"btn btn-success mt-2",onClick:function(){var e=t.state.pwa;e.push({id:"",productDto:"",amount:1,productCount:0,realSoldPrice:0}),t.setState({pwa:e})},children:" + Add"})]})}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return a("")},children:"Bekor qilish"}),Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){if(t.state.pwa.length){var e={productWithAmountDtos:t.state.pwa};console.log(e,"OBJ"),G.saveReject(e).then((function(e){G.allReject({accepted:t.state.accepted,warehouseId:t.state.warehouseId,page:t.state.page,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESTES"),t.setState({showAddRejectModal:!t.state.showAddRejectModal,item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],rejects:e.object,totalElements:e.totalElements})}))}))}},children:"Saqlash"})]})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showRejectPwaModal,toggle:function(){return c("")},children:[Object(A.jsx)(Y.a,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Maxsulot Nomi"}),Object(A.jsx)("th",{children:"Soni"}),Object(A.jsx)("th",{children:"QaytarilganSumma/Dona"})]}),this.state.item?this.state.item.productWithAmountDtos&&this.state.item.productWithAmountDtos.map((function(t,e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e+1}),Object(A.jsx)("td",{children:t.productDto.name}),Object(A.jsx)("td",{children:t.amount}),Object(A.jsx)("td",{children:t.realSoldPrice})]})})):""]})}),Object(A.jsx)(J.a,{children:Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){return c("")},children:"Yopish"})})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showDeleteRejectModal,toggle:function(){return o("")},children:[Object(A.jsx)(at.a,{children:"O'chirmoqchimisiz?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return o("")},children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){G.removeReject(t.state.item.id).then((function(e){G.allReject({accepted:t.state.accepted,warehouseId:t.state.warehouseId,page:t.state.page,size:t.state.size}).then((function(e){t.setState({item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],rejects:e.object,totalElements:e.totalElements,showDeleteRejectModal:!t.state.showDeleteRejectModal})}))}))},children:"O'chirish"})]})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showAcceptModal,toggle:function(){return r("")},children:[Object(A.jsx)(at.a,{children:"Tasdiqlamoqchimisiz?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return r("")},children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){G.acceptReject(t.state.item.id).then((function(e){G.allReject({accepted:t.state.accepted,warehouseId:t.state.warehouseId,page:t.state.page,size:t.state.size,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){t.setState({item:"",pwa:[{id:"",productDto:"",amount:0,productCount:0,realSoldPrice:0}],rejects:e.object,totalElements:e.totalElements,showAcceptModal:!t.state.showAcceptModal})}))}))},children:"Tasdiqlash"})]})]})]})]})}}]),a}(s.Component),Pt=(a(525),function(t){Object(g.a)(a,t);var e=Object(v.a)(a);function a(t){var s;return Object(f.a)(this,a),(s=e.call(this,t)).state={item:"",showDefectModal:!1,showItemModal:!1,pwa:[],warehouseDto:{id:0},warehouses:[],page:0,size:10,totalElements:0,defects:[],accepted:!1,warehouseId:0,showAcceptModal:!1,showRemoveDefectModal:!1,startDate:"",endDate:""},s}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var t=this;G.allWarehouseWithoutPageable().then((function(e){console.log(e,"allALL"),t.setState({warehouses:e})})),console.log(this.state.startDate,"STARTDATE"),console.log(this.state.endDate,"ENDDATE"),G.allDefects({page:this.state.page,size:this.state.size,accepted:this.state.accepted,warehouseId:this.state.warehouseId,startDate:"",endDate:""}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements})}))}},{key:"render",value:function(){var t=this,e=this.props.history,a=function(e){t.setState({item:e,showDefectModal:!t.state.showDefectModal,pwa:[{id:"",productDto:"",amount:1,productCount:0,realSoldPrice:0}],warehouseDto:{id:0}})},s=function(e,a){setTimeout((function(){a(function(e){if(e)return t.state.products.filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())}))}(e))}),100)},n=function(e){G.searchProduct(e).then((function(e){t.setState({products:e})}))},c=function(e){t.setState({item:e,showItemModal:!t.state.showItemModal})},o=function(e){t.setState({item:e,showAcceptModal:!t.state.showAcceptModal})},r=function(e){t.setState({item:e,showRemoveDefectModal:!t.state.showRemoveDefectModal})};return Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-2 col-2-style",children:Object(A.jsx)(B,{role:L(),history:e,tab:"5"})}),Object(A.jsxs)("div",{className:"col-md-10 col-10-style",children:[Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-md-2",children:Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){return a("")},children:"+Add"})}),Object(A.jsxs)("div",{className:"col-md-3",children:[Object(A.jsx)(nt.a,{selected:this.state.startDate,onChange:function(e){return a=e,void(t.state.endDate?G.allDefects({page:t.state.page,size:t.state.size,accepted:t.state.accepted,warehouseId:t.state.warehouseId,startDate:a,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements,startDate:a})})):t.setState({startDate:a}));var a},selectsStart:!0,startDate:this.state.startDate,endDate:this.state.endDate}),Object(A.jsx)(nt.a,{selected:this.state.endDate,onChange:function(e){return a=e,void G.allDefects({page:t.state.page,size:t.state.size,accepted:t.state.accepted,warehouseId:t.state.warehouseId,startDate:t.state.startDate,endDate:a}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements,endDate:a})}));var a},selectsEnd:!0,startDate:this.state.startDate,endDate:this.state.endDate,minDate:this.state.startDate})]}),Object(A.jsx)("div",{className:"col-md-2",children:Object(A.jsxs)("select",{name:"status",id:"status",onChange:function(e){var a=e.target.value;t.state.startDate&&t.state.endDate?G.allDefects({page:t.state.page,size:t.state.size,accepted:a,warehouseId:t.state.warehouseId,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements,accepted:a})})):G.allDefects({page:t.state.page,size:t.state.size,accepted:a,warehouseId:t.state.warehouseId,startDate:"",endDate:""}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements,accepted:a})}))},children:[Object(A.jsx)("option",{value:"false",children:"Tasdiqlanmagan"}),Object(A.jsx)("option",{value:"true",children:"Tasdiqlangan"})]})}),Object(A.jsx)("div",{className:"col-md-2",children:"ROLE_DIRECTOR"===L()||"ROLE_MANAGER"===L()?Object(A.jsxs)("select",{name:"warehouse",id:"warehouse",onChange:function(e){var a=e.target.value;t.state.startDate&&t.state.endDate?G.allDefects({page:t.state.page,size:t.state.size,accepted:t.state.accepted,warehouseId:a,startDate:t.state.startDate,endDate:t.state.endDate}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements,warehouseId:a})})):G.allDefects({page:t.state.page,size:t.state.size,accepted:t.state.accepted,warehouseId:a,startDate:"",endDate:""}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements,warehouseId:a})}))},children:[Object(A.jsx)("option",{value:0,children:"Barcha Omborlar :"}),this.state.warehouses&&this.state.warehouses.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]}):""}),Object(A.jsx)("div",{className:"col-md-3",children:Object(A.jsx)($.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:function(e){G.allDefects({page:e-1,size:t.state.size,accepted:t.state.accepted,warehouseId:t.state.warehouseId}).then((function(a){console.log(a,"RESRESRES"),t.setState({defects:a.object,page:e-1,totalElements:a.totalElements})}))},itemClass:"page-item",linkClass:"page-link"})})]}),Object(A.jsx)("div",{className:"row",children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Ombor"}),Object(A.jsx)("th",{children:"Sana"}),Object(A.jsx)("th",{children:"Kim"}),"ROLE_DIRECTOR"===L()?Object(A.jsx)("th",{children:"Summa"}):"",Object(A.jsx)("th",{children:"Tasdiqlangan"}),Object(A.jsx)("th",{children:"Nimalar"}),Object(A.jsx)("th",{children:"Amallar"})]}),this.state.defects&&this.state.defects.map((function(e,a){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:a+1+t.state.page*t.state.size}),Object(A.jsx)("td",{children:e.warehouseDto.name}),Object(A.jsx)("td",{children:e.createdAt.substr(0,10)+"  |  "+e.createdAt.substr(11,5)}),Object(A.jsx)("td",{children:e.createdBy.firstName+" "+e.createdBy.lastName}),"ROLE_DIRECTOR"===L()?Object(A.jsxs)("td",{children:[Object(A.jsx)("b",{children:e.totalDefectSum}),"  UZS"]}):"",Object(A.jsx)("td",{children:Object(A.jsx)("input",{type:"checkbox",checked:e.accepted})}),Object(A.jsx)("td",{children:Object(A.jsx)("button",{className:"btn btn-info",onClick:function(){return c(e)},children:"..."})}),e.accepted?"":"ROLE_DIRECTOR"===L()?Object(A.jsxs)("div",{className:"mt-2",children:[Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){return o(e)},children:"Tasdiqlash"}),Object(A.jsx)("button",{className:"btn btn-danger ml-3",onClick:function(){return r(e)},children:"O'chirish"})]}):Object(A.jsx)("button",{className:"btn btn-danger",children:"O'chirish"})]})}))]})}),Object(A.jsxs)(H.a,{size:"lg",isOpen:this.state.showDefectModal,toggle:function(){return a("")},children:[Object(A.jsxs)(Y.a,{children:[Object(A.jsx)("div",{className:"row",children:"ROLE_DIRECTOR"===L()||"ROLE_MANAGER"===L()?Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{htmlFor:"warehouse",children:"Ombor tanlang : "}),Object(A.jsxs)("select",{className:"ml-3",name:"warehouse",id:"warehouse",onChange:function(e){var a=t.state.warehouseDto;a.id=e.target.value,t.setState({warehouseDto:a})},children:[Object(A.jsx)("option",{value:0,children:"Ombor tanlang :"}),this.state.warehouses&&this.state.warehouses.map((function(t){return Object(A.jsx)("option",{value:t.id,children:t.name})}))]})]}):""}),Object(A.jsxs)("div",{children:[this.state.pwa&&this.state.pwa.map((function(e,a){return Object(A.jsx)("div",{className:"row",children:Object(A.jsx)("div",{className:"col-md-12",children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col-md-4",children:[Object(A.jsx)("label",{htmlFor:"prodId",children:"Maxsulot"}),Object(A.jsx)(q.a,{name:"prodId",id:"prodId",cacheOptions:!0,loadOptions:s,defaultOptions:!0,value:e.productDto?e.productDto:"",onInputChange:n,onChange:function(e){return function(e,a){var s=Object(Nt.a)(t.state.pwa);s[a].productDto=e,s[a].realSoldPrice=e.salePrice,t.setState({pwa:s})}(e,a)}})]}),Object(A.jsxs)("div",{className:"col-md-2 mr-2",children:[Object(A.jsx)("label",{htmlFor:"amount",children:"Son"}),Object(A.jsx)("input",{value:e.amount,type:"number",name:"amount",id:"amount",min:1,required:!0,onChange:function(e){return function(e,a){var s=e.target.value,n=t.state.pwa;Number(s)<1?e.target.value=void 0:(n[a].amount=e.target.value,t.setState({pwa:n}))}(e,a)}})]}),Object(A.jsx)("div",{className:"col-md-1 ml-3",children:Object(A.jsx)("div",{className:"minusButton ml-5 mt-4",onClick:function(){return function(e,a){var s=t.state.pwa;s.splice(a,1),t.setState({pwa:s})}(0,a)},children:"X"})})]})})},a)})),Object(A.jsx)("button",{className:"btn btn-success mt-2",onClick:function(){var e=t.state.pwa;e.push({id:"",productDto:"",amount:1,productCount:0,realSoldPrice:0}),t.setState({pwa:e})},children:" + Add"})]})]}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return a("")},children:"Bekor qilish"}),Object(A.jsx)("button",{className:"btn btn-success",onClick:function(){var e={warehouseDto:t.state.warehouseDto,productWithAmountDtos:t.state.pwa};G.saveOrEditDefect(e).then((function(e){var a=[{id:"",productDto:"",amount:1,productCount:0,realSoldPrice:0}],s={id:0};G.allDefects({page:t.state.page,size:t.state.size,accepted:t.state.accepted,warehouseId:t.state.warehouseId}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements,item:"",showDefectModal:!t.state.showDefectModal,pwa:a,warehouseDto:s})}))}))},children:"Saqlash"})]})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showItemModal,toggle:function(){return c("")},children:[Object(A.jsx)(Y.a,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"T/R"}),Object(A.jsx)("th",{children:"Maxsulot Nomi"}),Object(A.jsx)("th",{children:"Soni"})]}),this.state.item?this.state.item.productWithAmountDtos&&this.state.item.productWithAmountDtos.map((function(t,e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e+1}),Object(A.jsx)("td",{children:t.productDto.name}),Object(A.jsx)("td",{children:t.amount})]})})):""]})}),Object(A.jsx)(J.a,{children:Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){return c("")},children:"Yopish"})})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showAcceptModal,toggle:function(){return o("")},children:[Object(A.jsx)(at.a,{children:"Tasdiqlamoqchimisiz?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return o("")},children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){G.acceptDefect(t.state.item.id).then((function(e){var a=[{id:"",productDto:"",amount:1,productCount:0,realSoldPrice:0}],s={id:0};G.allDefects({page:t.state.page,size:t.state.size,accepted:t.state.accepted,warehouseId:t.state.warehouseId}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements,item:"",showAcceptModal:!t.state.showAcceptModal,pwa:a,warehouseDto:s})}))}))},children:"Tasdiqlash"})]})]}),Object(A.jsxs)(H.a,{isOpen:this.state.showRemoveDefectModal,toggle:function(){return r("")},children:[Object(A.jsx)(at.a,{children:"O'chirasizmi?"}),Object(A.jsxs)(J.a,{children:[Object(A.jsx)("button",{className:"btn btn-danger",onClick:function(){return r("")},children:"Bekor Qilish"}),Object(A.jsx)("button",{className:"btn btn-warning",onClick:function(){G.removeDefect(t.state.item.id).then((function(e){G.allDefects({page:t.state.page,size:t.state.size,accepted:t.state.accepted,warehouseId:t.state.warehouseId}).then((function(e){console.log(e,"RESRESRES"),t.setState({defects:e.object,totalElements:e.totalElements,item:"",showRemoveDefectModal:!t.state.showRemoveDefectModal})}))}))},children:"O'chirish"})]})]})]})]})}}]),a}(s.Component)),Tt=Object(p.a)(),Wt=Object(O.routerMiddleware)(Tt),zt=[j.a,Wt],Bt=Object(r.e)(h,Object(r.d)(r.a.apply(void 0,zt))),Lt=function(){return Object(A.jsx)(b.a,{children:Object(A.jsxs)(E.a,{store:Bt,children:[Object(A.jsx)(N.a,{}),Object(A.jsxs)(m.d,{children:[Object(A.jsx)(m.b,{exact:!0,path:"/mainPage",component:et}),Object(A.jsx)(m.b,{exact:!0,path:"/report",component:ct}),Object(A.jsx)(m.b,{exact:!0,path:"/warehouse",component:wt}),Object(A.jsx)(m.b,{exact:!0,path:"/transfer",component:Dt}),Object(A.jsx)(m.b,{exact:!0,path:"/catalog",component:yt}),Object(A.jsx)(m.b,{exact:!0,path:"/report",component:ct}),Object(A.jsx)(m.b,{exact:!0,path:"/warehouse",component:wt}),Object(A.jsx)(m.b,{exact:!0,path:"/transfer",component:Dt}),Object(A.jsx)(m.b,{exact:!0,path:"/catalog",component:yt}),Object(A.jsx)(m.b,{exact:!0,path:"/sellerSale",component:Mt}),Object(A.jsx)(m.b,{exact:!0,path:"/transfer",component:Dt}),Object(A.jsx)(m.b,{exact:!0,path:"/report",component:ct}),Object(A.jsx)(m.b,{exact:!0,path:"/warehouse",component:wt}),Object(A.jsx)(m.b,{exact:!0,path:"/sellerReject",component:At}),Object(A.jsx)(m.b,{exact:!0,path:"/sellerDefect",component:Pt}),Object(A.jsx)(m.b,{exact:!0,path:"/settings",component:Ct}),Object(A.jsx)(z,{exact:!0,path:"/",component:T})]})]})})},_t=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,534)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,c=e.getLCP,o=e.getTTFB;a(t),s(t),n(t),c(t),o(t)}))};o.a.render(Object(A.jsx)(n.a.StrictMode,{children:Object(A.jsx)(Lt,{})}),document.getElementById("root")),_t()}},[[527,1,2]]]);
//# sourceMappingURL=main.1197fd71.chunk.js.map